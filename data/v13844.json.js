window.repositoryObject = {"columns_custom_fields":[],"relations_custom_fields":[],"triggers_custom_fields":[],"object_id":"v13844","name":"v_salepayvouchs_forrel","subtype":"VIEW","is_user_defined":false,"description":null,"script":"--20141211_修改原因:代垫费用单和费用支出单关联查询不到应收应付单据\r\nCREATE view v_salepayvouchs_forrel --支出单包含合同,机会,报价单关联id       \r\nas        \r\nselect b.csourcetype,a.sbvid,a.autoid,null as dlid,null as idlsid,null as soid,null as isosid,b.cspvcode,b.ddate,b.csbvcode,b.cdlcode,b.csocode,b.id,c.autoid as detailid,null as ccontractrowguid,null as rtnappid      \r\nfrom salebillvouchs a right join salepayvouch b on a.sbvid=b.iSourceId            \r\ninner join salepayvouchs c on b.id=c.id where b.cSourceType in (N'26',N'27',N'28',N'29',N'销售专用发票',N'销售普通发票',N'销售调拨单',N'销售零售日报',N'銷售專用發票',N'銷售普通發票',N'銷售調撥單',N'銷售零售日報'  \r\n,N'sale special invoice',N'sale common invoice',N'Sales allocation order',N'Retail journal posting for sales')            \r\nunion all      \r\nselect b.cSourceType,null,null,a.DLID,a.iDLsID,null,null,b.cspvcode,b.ddate,b.csbvcode,b.cdlcode,b.csocode,b.id,c.autoid as detailid,null as ccontractrowguid,null as rtnappid        \r\nfrom DispatchLists a right join salepayvouch b on a.dlid=b.iSourceId            \r\ninner join salepayvouchs c on b.id=c.id where b.cSourceType in (N'05',N'06',N'05R',N'06R',N'发货单',N'退货单',N'委托代销发货单',N'委托代销退货单',N'發貨單',N'退貨單',N'委託代銷發貨單',N'委託代銷退貨單'  \r\n,N'Shipment order',N'document of goods return',N'Entrust sell delivery sheet',N'consignment delivery reversal')  and isnull(a.irtnappid,0)=0    \r\nunion all      \r\nselect b.cSourceType,null,null,a.DLID,a.iDLsID,null,null,b.cspvcode,b.ddate,b.csbvcode,b.cdlcode,b.csocode,b.id,c.autoid as detailid,null as ccontractrowguid,irtnappid as rtnappid        \r\nfrom DispatchLists a right join salepayvouch b on a.dlid=b.iSourceId            \r\ninner join salepayvouchs c on b.id=c.id where b.cSourceType in (N'05',N'05R',N'发货单',N'退货单',N'發貨單',N'退貨單',N'Shipment order',N'document of goods return') and isnull(a.irtnappid,0)<>0    \r\nunion all      \r\nselect b.cSourceType,null,null,null,null,a.id,a.iSOsID,b.cspvcode,b.ddate,b.csbvcode,b.cdlcode,b.csocode,b.id,c.autoid as detailid,null as ccontractrowguid,null as rtnappid    \r\nfrom SO_SODetails a right join salepayvouch b on a.id=b.iSourceId            \r\ninner join salepayvouchs c on b.id=c.id where b.cSourceType in (N'97',N'销售订单',N'銷售訂單',N'Sales order')           \r\nunion all      \r\nselect a.cSourceType,null,a.ID as autoid,null,null,null,null,a.cspvcode,null,null,null,null,a.id,null as detailid,null as ccontractrowguid,null as rtnappid      \r\nfrom salepayvouch a            \r\nwhere a.cSourceType in (N'CRMOPP',N'销售机会',N'銷售機會',N'Sales Opportunity')          \r\nunion all      \r\nselect a.cSourceType,null,a.id as autoid,null,null,null,null,a.cspvcode,null,null,null,null,a.id,b.autoid as detailid,c.RowGUID as ccontractrowguid,null as rtnappid            \r\nfrom salepayvouch a inner join salepayvouchs b on a.id = b.id left join cm_contract_item c on a.cContractID=c.strContractID      \r\nwhere a.cSourceType in (N'CM10',N'合同概要',N'合同概要',N'Contract summary')          \r\nunion all       \r\nselect b.cSourceType,null,a.AutoID as autoid,null,null,null,null,null,null,null,null,null,b.id,null as detailid,null as ccontractrowguid,null as rtnappid      \r\nfrom sa_quodetails a           \r\nright join salepayvouch b on a.ID=b.iSourceId      \r\nwhere b.cSourceType in (N'16',N'报价单',N'報價單',N'Quotation')      \r\nunion all      \r\nselect a.cSourceType,null,null,null,null,null,null,a.cspvcode,null,null,null,null,a.id,b.AutoID as detailid,null as ccontractrowguid,null as rtnappid      \r\nfrom salepayvouch a  inner join salepayvouchs b on a.id = b.id\r\nwhere isnull(a.cSourceType,'')=''--手工创建的费用支出单","summary":[{"field":"Documentation","value":{"_type":"link","name":"U8V16.5数据字典","id":"d6"}},{"field":"Schema","value":"dbo"},{"field":"Name","value":"v_salepayvouchs_forrel"},{"field":"Type","value":"View"}],"columns":[{"id":"column-403009","object_id":"column-403009","name":"csourcetype","name_without_path":"csourcetype","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-403010","object_id":"column-403010","name":"sbvid","name_without_path":"sbvid","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-403011","object_id":"column-403011","name":"autoid","name_without_path":"autoid","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-403012","object_id":"column-403012","name":"dlid","name_without_path":"dlid","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-403013","object_id":"column-403013","name":"idlsid","name_without_path":"idlsid","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-403014","object_id":"column-403014","name":"soid","name_without_path":"soid","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-403015","object_id":"column-403015","name":"isosid","name_without_path":"isosid","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-403016","object_id":"column-403016","name":"cspvcode","name_without_path":"cspvcode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"30","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-403017","object_id":"column-403017","name":"ddate","name_without_path":"ddate","description":null,"is_pk":false,"is_identity":false,"data_type":"datetime","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-403018","object_id":"column-403018","name":"csbvcode","name_without_path":"csbvcode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"30","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-403019","object_id":"column-403019","name":"cdlcode","name_without_path":"cdlcode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"255","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-403020","object_id":"column-403020","name":"csocode","name_without_path":"csocode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"30","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-403021","object_id":"column-403021","name":"id","name_without_path":"id","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-403022","object_id":"column-403022","name":"detailid","name_without_path":"detailid","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-403023","object_id":"column-403023","name":"ccontractrowguid","name_without_path":"ccontractrowguid","description":null,"is_pk":false,"is_identity":false,"data_type":"uniqueidentifier","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-403024","object_id":"column-403024","name":"rtnappid","name_without_path":"rtnappid","description":null,"is_pk":false,"is_identity":false,"data_type":"bigint","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]}],"relations":[],"triggers":[],"unique_keys":[],"dependencies":null,"imported_at":"2024-07-15 13:47"};