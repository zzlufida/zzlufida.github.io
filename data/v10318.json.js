window.repositoryObject = {"columns_custom_fields":[],"relations_custom_fields":[],"triggers_custom_fields":[],"object_id":"v10318","name":"CM_QTrackMulti_SA","subtype":"VIEW","is_user_defined":false,"description":null,"script":"CREATE View CM_QTrackMulti_SA\r\nAS\r\nSelect distinct C.strContractID,C.strCode, Null As cBalanceID,Null As cSoCode,Null As VouchID,Null As BillType,\r\ndbo.UDF_GetResourceMessageByID('U8.CW.CM.ContractItem')  As VoucherType,C.strCode As VoucherCode,dblQuantity,\r\ndblUntaxSum As dblSum1,dblSum As dblSum2,dblUntaxSumRMB As dblSum3,dblSumRMB As dblSum4\r\nFrom CM_QTrackConItem C\r\nUnion\t--订单\r\nSelect distinct strContractID,strCode,cBalanceID,Null As cSoCode,VouchID,Null As BillType,dbo.UDF_GetResourceMessageByID('U8.CW.CM.SAOrder') As VoucherType,\r\ncBalanceID As VoucherCode,dblQuantity,dblSum1,dblSum2,dblSum3,dblSum4\r\nFrom (Select cBalanceID,strContractID,strCode,VouchID,Sum(iQuantity) As dblQuantity,\r\n\tSum(iMoney) As dblSum1,Sum(iSum) As dblSum2,Sum(iNatMoney) As dblSum3,Sum(iNatSum) As dblSum4 \r\n\tFrom CM_QTrackSaOrder Group By strContractID,strCode,cBalanceID,VouchID) Bal\r\nUnion \t\t\t\t--出货单\r\nSelect distinct strContractID,strCode,cOrderCode As cBalanceID,Null As cSoCode,VouchID,BillType,dbo.UDF_GetResourceMessageByID('U8.CW.CM.SAGoods') As VoucherType,\r\nOtherCode As VoucherCode,dblQuantity,dblSum1,dblSum2,dblSum3,dblSum4\r\nFrom (Select OtherCode,cOrderCode,strContractID,strCode,VouchID,BillType,Sum(iQuantity) As dblQuantity,\r\n\tSum(iMoney) As dblSum1,Sum(iSum) As dblSum2,Sum(iNatMoney) As dblSum3,Sum(iNatSum) As dblSum4 \r\n\tFrom CM_QTrackSaDispatch Group By strContractID,strCode,OtherCode,cOrderCode,VouchID,BillType) Other1\r\nUnion\t\t\t\t--发票\r\nSelect distinct strContractID,strCode,cOrderCode As cBalanceID,OtherCode As cSoCode,VouchID,Null As BillType,--dbo.UDF_GetResourceMessageByID('U8.CW.CM.SAInvoice') As VoucherType,\r\nVoucherType,OtherCode As VoucherCode,dblQuantity,dblSum1,dblSum2,dblSum3,dblSum4\r\nFrom (Select VoucherType,OtherCode,cOrderCode,strContractID,strCode,VouchID,Sum(iQuantity) As dblQuantity,\r\n\tSum(iMoney) As dblSum1,Sum(iSum) As dblSum2,Sum(iNatMoney) As dblSum3,Sum(iNatSum) As dblSum4 \r\n\tFrom CM_QTrackSaBill Group By strContractID,strCode,OtherCode,cOrderCode,VouchID,VoucherType) Other2\r\nUnion\t\t\t\t--收付款单\r\nSelect C.strContractID,C.strCode,S.cSoCode As cBalanceID,T.cSbvCode As cSoCode,S.sbvid As VouchID,Null As BillType,C.cVoucherType As VoucherType,\r\nC.cVouchID As VoucherCode,Null As dblQuantity,Null As dblSum1,sum(iAmount_f) As dblSum2,Null As dblSum3,sum(iAmount) As dblSum4\r\nFrom CM_V_ApCloseSales C \r\nInner Join SaleBillVouchs S On S.AutoID=C.ibvid\r\nInner Join SaleBillVouch T On S.sbvid=T.sbvid\r\nWhere IsNUll(C.cVoucherType,'')<>''\r\nGroup By cVoucherType,I_id,strContractID,strCode,cCoVouchID,cVouchID,S.sbvid,S.cSoCode,T.cSbvCode\r\nUnion\t\t\t\t--出库单\r\nSelect distinct strContractID,strCode,cOrderCode As cBalanceID,Null As cSoCode,VouchID,Null As BillType,dbo.UDF_GetResourceMessageByID('U8.CW.CM.SAStock') As VoucherType,\r\nOtherCode As VoucherCode,dblQuantity,dblSum1,dblSum2,dblSum3,dblSum4\r\nFrom (Select OtherCode,cOrderCode,strContractID,strCode,VouchID,Sum(iQuantity) As dblQuantity,\r\n\tSum(iOriMoney) As dblSum1,Sum(iOriSum) As dblSum2,Sum(iPrice) As dblSum3,Sum(iSum) As dblSum4 \r\n\tFrom CM_QTrackSaRecord Group By strContractID,strCode,OtherCode,cOrderCode,VouchID) Other3\r\nunion --合同执行单\r\nSelect B.cContractID as strContractID,S.cContractObjectID as strCode,Null as cBalanceID,Null as cPBVCode,Null as VouchID,Null As BillType,dbo.UDF_GetResourceMessageByID('U8.CW.CM.ExecuteBill')  as  VoucherType,\r\nB.cExecID as VoucherCode,decCount as dblQuantity,decNoRateMoney as dblSum1,decRateMoney As dblSum2,decNoRateBenBiMoney As dblSum3,decRateBenBiMoney As dblSum4\r\n from cm_executebill B inner join \r\n cm_executebills S on B.cExecID=S.cExecID","summary":[{"field":"Documentation","value":{"_type":"link","name":"U8V16.5数据字典","id":"d6"}},{"field":"Schema","value":"dbo"},{"field":"Name","value":"CM_QTrackMulti_SA"},{"field":"Type","value":"View"}],"columns":[{"id":"column-183646","object_id":"column-183646","name":"strContractID","name_without_path":"strContractID","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"64","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-183647","object_id":"column-183647","name":"strCode","name_without_path":"strCode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"150","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-183648","object_id":"column-183648","name":"cBalanceID","name_without_path":"cBalanceID","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"30","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-183649","object_id":"column-183649","name":"cSoCode","name_without_path":"cSoCode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"30","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-183650","object_id":"column-183650","name":"VouchID","name_without_path":"VouchID","description":null,"is_pk":false,"is_identity":false,"data_type":"bigint","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-183651","object_id":"column-183651","name":"BillType","name_without_path":"BillType","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"8","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-183652","object_id":"column-183652","name":"VoucherType","name_without_path":"VoucherType","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"2048","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-183653","object_id":"column-183653","name":"VoucherCode","name_without_path":"VoucherCode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"150","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-183654","object_id":"column-183654","name":"dblQuantity","name_without_path":"dblQuantity","description":null,"is_pk":false,"is_identity":false,"data_type":"float","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-183655","object_id":"column-183655","name":"dblSum1","name_without_path":"dblSum1","description":null,"is_pk":false,"is_identity":false,"data_type":"float","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-183656","object_id":"column-183656","name":"dblSum2","name_without_path":"dblSum2","description":null,"is_pk":false,"is_identity":false,"data_type":"float","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-183657","object_id":"column-183657","name":"dblSum3","name_without_path":"dblSum3","description":null,"is_pk":false,"is_identity":false,"data_type":"float","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-183658","object_id":"column-183658","name":"dblSum4","name_without_path":"dblSum4","description":null,"is_pk":false,"is_identity":false,"data_type":"float","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]}],"relations":[],"triggers":[],"unique_keys":[],"dependencies":null,"imported_at":"2024-07-15 13:47"};