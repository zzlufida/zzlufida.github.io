window.repositoryObject = {"columns_custom_fields":[],"relations_custom_fields":[],"triggers_custom_fields":[],"object_id":"v12088","name":"QmArrCheckSrv","subtype":"VIEW","is_user_defined":false,"description":null,"script":"CREATE view [dbo].[QmArrCheckSrv]         \r\nAS         \r\nselect sum(    \r\n           case when (isnull(FCONQUANTIY,0)+isnull(FREGQUANTITY,0)    \r\n                      -(case when isnull(IFREGBREAKQTYDEALTYPE,-1)=1     \r\n                             then 0     \r\n                             else case when IBATCHCHKRESULT<>1 then isnull(FREGBREAKQUANTITY,0)*isnull(FCHECKRATE,1) else 0 end  \r\n                         end))    \r\n                      <=(isnull(FsumQuantity,0))     \r\n                then isnull(FCONQUANTIY,0)+isnull(FREGQUANTITY,0)    \r\n                     -(case when isnull(IFREGBREAKQTYDEALTYPE,-1)=1     \r\n                            then 0     \r\n                            else case when IBATCHCHKRESULT<>1 then isnull(FREGBREAKQUANTITY,0)*isnull(FCHECKRATE,1) else 0 end  \r\n                        end)     \r\n                else isnull(FsumQuantity,0)     \r\n           end) as FMinQty,       \r\n       sum(    \r\n           case when (isnull(FCONNUM,0)+isnull(FREGNUM,0)    \r\n                      -(case when isnull(IFREGBREAKQTYDEALTYPE,-1)=1     \r\n                             then 0      \r\n                             else (case when isnull(FCHANGRATE,0)=0     \r\n                                        then 0     \r\n                                        else ( case when IBATCHCHKRESULT<>1 then isnull(FREGBREAKQUANTITY,0)*isnull(FCHECKRATE,1) else 0 end)*isnull(FCHECKRATE,1)/isnull(FCHANGRATE,0)     \r\n                                        end)    \r\n                         end))    \r\n                      <=(isnull(FsumNum,0))     \r\n                 then isnull(FCONNUM,0)+isnull(FREGNUM,0)    \r\n                      -(case when isnull(IFREGBREAKQTYDEALTYPE,-1)<>0     \r\n                             then  0      \r\n                             else (case when isnull(FCHANGRATE,0)=0     \r\n                                        then 0     \r\n                                        else ( case when IBATCHCHKRESULT<>1 then isnull(FREGBREAKQUANTITY,0)*isnull(FCHECKRATE,1) else 0 end)*isnull(FCHECKRATE,1)/isnull(FCHANGRATE,0)     \r\n                                        end)     \r\n                        end)      \r\n                 else isnull(FsumNum,0)     \r\n            end) as FMinNum,    \r\n       SOURCEAUTOID,    \r\n       sum(case when isnull(IFREGBREAKQTYDEALTYPE,-1)=0     \r\n                then ( case when IBATCHCHKRESULT<>1 then isnull(FREGBREAKQUANTITY,0)*isnull(FCHECKRATE,1) else 0 end)*isnull(FCHECKRATE,1)     \r\n                else 0     \r\n           end) as fbreakqty,    \r\n       sum(case when isnull(IFREGBREAKQTYDEALTYPE,-1)=0     \r\n                then (case when isnull(FCHANGRATE,0)=0     \r\n                           then 0     \r\n                           else ( case when IBATCHCHKRESULT<>1 then isnull(FREGBREAKQUANTITY,0)*isnull(FCHECKRATE,1) else 0 end)*isnull(FCHECKRATE,1)/isnull(FCHANGRATE,0)     \r\n                       end)     \r\n                else 0     \r\n           end) as fbreaknum ,     \r\n       sum(case when isnull(CVERIFIER,'')=''    \r\n                then 0    \r\n                else    \r\n                (case when isnull(IFREGBREAKQTYDEALTYPE,-1)=0       \r\n                      then ( case when IBATCHCHKRESULT<>1 then isnull(FREGBREAKQUANTITY,0)*isnull(FCHECKRATE,1) else 0 end)*isnull(FCHECKRATE,1)       \r\n                      else 0       \r\n                 end)    \r\n            end) as fauditbreakqty,      \r\n       sum(case when isnull(CVERIFIER,'')=''    \r\n                then 0    \r\n                else    \r\n                (case when isnull(IFREGBREAKQTYDEALTYPE,-1)=0       \r\n                     then (case when isnull(FCHANGRATE,0)=0       \r\n                                then 0       \r\n                                else ( case when IBATCHCHKRESULT<>1 then isnull(FREGBREAKQUANTITY,0)*isnull(FCHECKRATE,1) else 0 end)*isnull(FCHECKRATE,1)/isnull(FCHANGRATE,0)       \r\n                           end)       \r\n                     else 0       \r\n                end)    \r\n           end) as fauditbreaknum     \r\n--Begin 修改11.0 yangzj   \r\n--from qmcheckvoucher where cvouchtype='QM03'    \r\nfrom QMCHECKVOUCHERVIEW where cvouchtype='QM03'\r\n--End  修改11.0  \r\ngroup by SOURCEAUTOID","summary":[{"field":"Documentation","value":{"_type":"link","name":"U8V16.5数据字典","id":"d6"}},{"field":"Schema","value":"dbo"},{"field":"Name","value":"QmArrCheckSrv"},{"field":"Type","value":"View"}],"columns":[{"id":"column-278397","object_id":"column-278397","name":"FMinQty","name_without_path":"FMinQty","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"38, 6","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-278398","object_id":"column-278398","name":"FMinNum","name_without_path":"FMinNum","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"38, 6","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-278399","object_id":"column-278399","name":"SOURCEAUTOID","name_without_path":"SOURCEAUTOID","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-278400","object_id":"column-278400","name":"fbreakqty","name_without_path":"fbreakqty","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"38, 6","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-278401","object_id":"column-278401","name":"fbreaknum","name_without_path":"fbreaknum","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"38, 6","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-278402","object_id":"column-278402","name":"fauditbreakqty","name_without_path":"fauditbreakqty","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"38, 6","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-278403","object_id":"column-278403","name":"fauditbreaknum","name_without_path":"fauditbreaknum","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"38, 6","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]}],"relations":[],"triggers":[],"unique_keys":[],"dependencies":null,"imported_at":"2024-07-15 13:47"};