window.repositoryObject = {"columns_custom_fields":[],"relations_custom_fields":[],"triggers_custom_fields":[],"object_id":"v13268","name":"v_HR_TM_DocDeductDealForSum","subtype":"VIEW","is_user_defined":false,"description":null,"script":"CREATE view  [dbo].[v_HR_TM_DocDeductDealForSum]\r\nas \r\n--加班存休明细表按单，明细方式小计内容 \r\n--12.0 补丁  OvD.rDealType AS rDealTypeID\r\nSELECT  OvD.cPsn_Num ,        \r\n        OvD.dJbDate ,\r\n        OvD.dValidityDate ,\r\n        OvD.dDutyTime ,\r\n        OvD.dOffTime ,\r\n        OvD.nOvertimeHours ,\r\n        OvD.vJbCode ,\r\n        OvD.VoucherID AS VoucherCode ,\r\n        OvD.uRecordId ,\r\n        OvD.bOverDate ,\r\n        OvD.bOverDate2 ,\r\n        OvD.iRowNo AS iRecordId ,\r\n        OvD.nDeductedTime ,\r\n        OvD.nCanceledTime ,\r\n        OvD.nBalancedTime ,\r\n        CASE OvD.rdealtype\r\n          WHEN 2 THEN 0\r\n          ELSE OvD.nAvailableOverHours\r\n        END AS nAvailableOverHours ,\r\n        NULL AS cLeaveID ,\r\n        NULL AS iLeaveLineNum ,\r\n        NULL as dLeaveBeginDate ,\r\n        NULL AS dLeaveEndDate ,\r\n        NULL AS rLeaveDealTypeCode ,\r\n        NULL AS DealPriod,\r\n        OvDD.dLeaveOwedHours,\r\n        p.cPsn_Name ,   \r\n        T.vName AS cOverTimeType ,        \r\n        rT.vdescription AS rDealType ,\r\n        Dl.vdescription AS rLeaveDealType ,\r\n        p.cDept_num ,\r\n        p.JobNumber ,\r\n        p.rPersonType ,\r\n        p.dEnterUnitDate ,\r\n        p.dLeaveDate ,\r\n        dept.cDepCode ,\r\n        dept.cDepName ,\r\n        OvD.rDealType AS rDealTypeID\r\nFROM    dbo.hr_tm_OverTimeresult AS OvD WITH ( NOLOCK )\r\n         LEFT OUTER JOIN ( SELECT    Fk_PK_hr_tm_OverTimeresult ,                                  \r\n                                    SUM(dLeaveOwedHours) AS dLeaveOwedHours\r\n                          FROM      ( SELECT    Fk_PK_hr_tm_OverTimeresult ,                                                 \r\n                                                nDealTime AS dLeaveOwedHours  \r\n                                      FROM      dbo.hr_tm_overtimeResultDeduct  \r\n                                                AS ldd WITH ( NOLOCK )   \r\n                                                WHERE  ldd.rDealType IN ( '1', '2' )  \r\n                                    ) AS ld\r\n                          GROUP BY  Fk_PK_hr_tm_OverTimeresult\r\n                        ) AS OvDD ON OvDD.Fk_PK_hr_tm_OverTimeresult = OvD.uRecordId    \r\n        INNER JOIN dbo.hr_hi_person AS p WITH ( NOLOCK ) ON OvD.cPsn_Num = p.cPsn_Num\r\n                                                            AND p.bTakeTM = 1\r\n        INNER JOIN dbo.hr_tm_OverTimeType AS T WITH ( NOLOCK ) ON OvD.vJbCode = T.cCode\r\n        INNER JOIN dbo.hr_tm_PersonParameters AS PP WITH ( NOLOCK ) ON p.rPersonParameters = PP.cCode\r\n                                                              AND PP.rManHourSystem = '00'\r\n        LEFT OUTER JOIN dbo.HR_CT272 AS rT WITH ( NOLOCK ) ON OvD.rDealType = rT.ccodeID\r\n        LEFT OUTER JOIN dbo.HR_CT274 AS Dl WITH ( NOLOCK ) ON OvD.rDealType = Dl.ccodeID\r\n        LEFT OUTER JOIN dbo.Department AS dept WITH ( NOLOCK ) ON p.cDept_num = dept.cDepCode\r\n        WHERE OvD.bAuditFlag=1","summary":[{"field":"Documentation","value":{"_type":"link","name":"U8V16.5数据字典","id":"d6"}},{"field":"Schema","value":"dbo"},{"field":"Name","value":"v_HR_TM_DocDeductDealForSum"},{"field":"Type","value":"View"}],"columns":[{"id":"column-359701","object_id":"column-359701","name":"cPsn_Num","name_without_path":"cPsn_Num","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-359702","object_id":"column-359702","name":"dJbDate","name_without_path":"dJbDate","description":null,"is_pk":false,"is_identity":false,"data_type":"UFDate: nchar","data_length":"10","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-359703","object_id":"column-359703","name":"dValidityDate","name_without_path":"dValidityDate","description":null,"is_pk":false,"is_identity":false,"data_type":"datetime","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-359704","object_id":"column-359704","name":"dDutyTime","name_without_path":"dDutyTime","description":null,"is_pk":false,"is_identity":false,"data_type":"UFTime: nchar","data_length":"8","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-359705","object_id":"column-359705","name":"dOffTime","name_without_path":"dOffTime","description":null,"is_pk":false,"is_identity":false,"data_type":"UFTime: nchar","data_length":"8","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-359706","object_id":"column-359706","name":"nOvertimeHours","name_without_path":"nOvertimeHours","description":null,"is_pk":false,"is_identity":false,"data_type":"numeric","data_length":"6, 2","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-359707","object_id":"column-359707","name":"vJbCode","name_without_path":"vJbCode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"4","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-359708","object_id":"column-359708","name":"VoucherCode","name_without_path":"VoucherCode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"50","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-359709","object_id":"column-359709","name":"uRecordId","name_without_path":"uRecordId","description":null,"is_pk":false,"is_identity":false,"data_type":"UFUID: uniqueidentifier","data_length":null,"is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-359710","object_id":"column-359710","name":"bOverDate","name_without_path":"bOverDate","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-359711","object_id":"column-359711","name":"bOverDate2","name_without_path":"bOverDate2","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-359712","object_id":"column-359712","name":"iRecordId","name_without_path":"iRecordId","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-359713","object_id":"column-359713","name":"nDeductedTime","name_without_path":"nDeductedTime","description":null,"is_pk":false,"is_identity":false,"data_type":"numeric","data_length":"6, 2","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-359714","object_id":"column-359714","name":"nCanceledTime","name_without_path":"nCanceledTime","description":null,"is_pk":false,"is_identity":false,"data_type":"numeric","data_length":"6, 2","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-359715","object_id":"column-359715","name":"nBalancedTime","name_without_path":"nBalancedTime","description":null,"is_pk":false,"is_identity":false,"data_type":"numeric","data_length":"6, 2","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-359716","object_id":"column-359716","name":"nAvailableOverHours","name_without_path":"nAvailableOverHours","description":null,"is_pk":false,"is_identity":false,"data_type":"numeric","data_length":"6, 2","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-359717","object_id":"column-359717","name":"cLeaveID","name_without_path":"cLeaveID","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-359718","object_id":"column-359718","name":"iLeaveLineNum","name_without_path":"iLeaveLineNum","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-359719","object_id":"column-359719","name":"dLeaveBeginDate","name_without_path":"dLeaveBeginDate","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-359720","object_id":"column-359720","name":"dLeaveEndDate","name_without_path":"dLeaveEndDate","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-359721","object_id":"column-359721","name":"rLeaveDealTypeCode","name_without_path":"rLeaveDealTypeCode","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-359722","object_id":"column-359722","name":"DealPriod","name_without_path":"DealPriod","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-359735","object_id":"column-359735","name":"dLeaveOwedHours","name_without_path":"dLeaveOwedHours","description":null,"is_pk":false,"is_identity":false,"data_type":"numeric","data_length":"38, 2","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-359723","object_id":"column-359723","name":"cPsn_Name","name_without_path":"cPsn_Name","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"40","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-359724","object_id":"column-359724","name":"cOverTimeType","name_without_path":"cOverTimeType","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"500","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-359725","object_id":"column-359725","name":"rDealType","name_without_path":"rDealType","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"100","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-359726","object_id":"column-359726","name":"rLeaveDealType","name_without_path":"rLeaveDealType","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"100","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-359727","object_id":"column-359727","name":"cDept_num","name_without_path":"cDept_num","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"30","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-359728","object_id":"column-359728","name":"JobNumber","name_without_path":"JobNumber","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"50","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-359729","object_id":"column-359729","name":"rPersonType","name_without_path":"rPersonType","description":null,"is_pk":false,"is_identity":false,"data_type":"UFreference: nvarchar","data_length":"30","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-359730","object_id":"column-359730","name":"dEnterUnitDate","name_without_path":"dEnterUnitDate","description":null,"is_pk":false,"is_identity":false,"data_type":"nchar","data_length":"10","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-359731","object_id":"column-359731","name":"dLeaveDate","name_without_path":"dLeaveDate","description":null,"is_pk":false,"is_identity":false,"data_type":"nchar","data_length":"10","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-359732","object_id":"column-359732","name":"cDepCode","name_without_path":"cDepCode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"12","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-359733","object_id":"column-359733","name":"cDepName","name_without_path":"cDepName","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"255","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-359734","object_id":"column-359734","name":"rDealTypeID","name_without_path":"rDealTypeID","description":null,"is_pk":false,"is_identity":false,"data_type":"nchar","data_length":"1","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]}],"relations":[],"triggers":[],"unique_keys":[],"dependencies":null,"imported_at":"2024-07-15 13:47"};