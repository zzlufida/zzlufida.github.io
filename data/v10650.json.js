window.repositoryObject = {"columns_custom_fields":[],"relations_custom_fields":[],"triggers_custom_fields":[],"object_id":"v10650","name":"EQ_VNotWorkDay","subtype":"VIEW","is_user_defined":false,"description":null,"script":"Create View EQ_VNotWorkDay\r\nAS\r\n\t/*\r\n\t过滤出来工作日历下的到期作业日(包括到期作业日在周末或非周末的情况,在周末时,需要再单独处理)\r\n\t*/\r\n\tselect tempWorkSeq.AutoID,\r\n\t--calDetail.CalDate as dtLastTime,\r\n\tcase when isnull(calDetail.CalDate,'')='' then tempWorkSeq.dtLastTime else calDetail.CalDate end as dtLastTime,\r\n\ttempWorkSeq.intTime,tempWorkSeq.intLastSeq,tempWorkSeq.CalendarDId,tempWorkSeq.calendarid,\r\n\ttempWorkSeq.CalendarCode,tempWorkSeq.CalDate,tempWorkSeq.seq,tempWorkSeq.WkHours,\r\n\ttempWorkSeq.cWorkTypeCode,tempWorkSeq.cWorkConCode,tempWorkSeq.intDate,tempWorkSeq.cWorkCode\r\n\tfrom\r\n\t(\r\n\t\t/*\r\n\t\t如果当前日期为工作日,那么WkHours应该是为0,这时(intLastSeq)seq+1,代表用来求下一周的第一个工作日.\r\n\t\t否则就自动加相隔天数\r\n\t\t这个主要是求出工作日历的seq\r\n\t\t*/\r\n\t\tselect VWork.AutoID,dtLastTime,intTime,cWorkTypeCode,cWorkConCode,intDate,\r\n\t\tcase when calDetail.WkHours = 0 then (calDetail.seq+1)\r\n\t\t\telse (calDetail.seq+intTime) end as intLastSeq,\r\n\t\tcalDetail.CalendarDId,calDetail.calendarid,\r\n\t\tcal.CalendarCode,calDetail.CalDate,calDetail.seq,calDetail.WkHours,VWork.cWorkCode\r\n\t\tFrom EQ_VWorkContentRemind as VWork\r\n\t\tleft join bas_calendardetail as calDetail\r\n\t\t\ton VWork.dtLastTime=calDetail.CalDate\r\n\t\tleft join bas_calendar as cal\r\n\t\t\ton calDetail.calendarid=cal.calendarid and cal.calendarCode='system'\r\n\t\twhere VWork.intDate=2\r\n\t) as tempWorkSeq\r\n\tleft join bas_calendardetail as calDetail\r\n\t\t\ton tempWorkSeq.calendarid = calDetail.calendarid \r\n\t\t\t\tand tempWorkSeq.intLastSeq=calDetail.seq\r\n\t\t\t\t--and calDetail.WkHours>0\r\n\tleft join bas_calendar as cal\r\n\t\t\ton calDetail.calendarid=cal.calendarid \r\n\t\t\t\t--and tempWorkSeq.CalendarCode = cal.CalendarCode","summary":[{"field":"Documentation","value":{"_type":"link","name":"U8V16.5数据字典","id":"d6"}},{"field":"Schema","value":"dbo"},{"field":"Name","value":"EQ_VNotWorkDay"},{"field":"Type","value":"View"}],"columns":[{"id":"column-199418","object_id":"column-199418","name":"AutoID","name_without_path":"AutoID","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-199419","object_id":"column-199419","name":"dtLastTime","name_without_path":"dtLastTime","description":null,"is_pk":false,"is_identity":false,"data_type":"datetime","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-199420","object_id":"column-199420","name":"intTime","name_without_path":"intTime","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-199421","object_id":"column-199421","name":"intLastSeq","name_without_path":"intLastSeq","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-199422","object_id":"column-199422","name":"CalendarDId","name_without_path":"CalendarDId","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-199423","object_id":"column-199423","name":"calendarid","name_without_path":"calendarid","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-199424","object_id":"column-199424","name":"CalendarCode","name_without_path":"CalendarCode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"6","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-199425","object_id":"column-199425","name":"CalDate","name_without_path":"CalDate","description":null,"is_pk":false,"is_identity":false,"data_type":"datetime","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-199426","object_id":"column-199426","name":"seq","name_without_path":"seq","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-199427","object_id":"column-199427","name":"WkHours","name_without_path":"WkHours","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"22, 4","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-199428","object_id":"column-199428","name":"cWorkTypeCode","name_without_path":"cWorkTypeCode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"15","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-199429","object_id":"column-199429","name":"cWorkConCode","name_without_path":"cWorkConCode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"30","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-199430","object_id":"column-199430","name":"intDate","name_without_path":"intDate","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-199431","object_id":"column-199431","name":"cWorkCode","name_without_path":"cWorkCode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"30","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]}],"relations":[],"triggers":[],"unique_keys":[],"dependencies":null,"imported_at":"2024-07-15 13:47"};