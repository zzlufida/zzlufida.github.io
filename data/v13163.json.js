window.repositoryObject = {"columns_custom_fields":[],"relations_custom_fields":[],"triggers_custom_fields":[],"object_id":"v13163","name":"v_EX_WaitInForStock","subtype":"VIEW","is_user_defined":false,"description":null,"script":"create view v_EX_WaitInForStock  \r\n\r\nas \r\n\r\nselect \r\n\r\n--(case when isnull(ex_orderdetail.autoid,0)=0 then 0 else 3 end) as sotype ,ex_orderdetail.autoid as sodid,\r\n\r\nex_orderdetail.idemandtype as sotype,\r\n\r\ncase isnull(ex_orderdetail.idemandtype,0) \r\n\r\nwhen 3 then convert(nvarchar(40),ex_orderdetail.idemandseq) \r\n\r\nwhen 4 then ex_orderdetail.cdemandid \r\n\r\nwhen 6 then ex_orderdetail.cdemandid \r\n\r\nelse '' end as sodid,\r\n\r\nmax(ex_consignment.ddate) as ddate, ex_consignmentdetail.cInvCode,coutwhcode as cWhCode,\r\nISNULL(ex_consignmentdetail.cfactorycode ,'') as cfactorycode,\r\nmax(ISNULL(factory.cfactoryname ,'')) as cfactoryname,\r\nex_consignmentdetail.cBatch,ex_consignmentdetail.cFree1,ex_consignmentdetail.cFree2,ex_consignmentdetail.cFree3,ex_consignmentdetail.cFree4,ex_consignmentdetail.cFree5,ex_consignmentdetail.cFree6,ex_consignmentdetail.cFree7,ex_consignmentdetail.cFree8,ex_consignmentdetail.cFree9,ex_consignmentdetail.cFree10,ex_consignmentdetail.cvmivencode,   \r\n\r\nabs(sum(  \r\n\r\n (case when isnull(ex_consignmentdetail.fquantity ,0) -  isnull(ex_consignmentdetail.funoutqty,0)>0   \r\n\r\n  then 0  \r\n\r\n  else isnull(ex_consignmentdetail.fquantity ,0) -  isnull(ex_consignmentdetail.funoutqty,0)  \r\n\r\n end)   \r\n\r\n))as fInQuantity,  \r\n\r\nabs(sum(  \r\n\r\n (case when isnull(ex_consignmentdetail.fnum ,0) -  isnull(ex_consignmentdetail.foutnum,0)>0  \r\n\r\n  then 0  \r\n\r\n  else isnull(ex_consignmentdetail.fnum ,0) -  isnull(ex_consignmentdetail.foutnum,0)  \r\n\r\n end)  \r\n\r\n)) as finnum ,  \r\n\r\nmax(ex_consignmentdetail.dvdate) as dvdate, max(ex_consignmentdetail.dprodate) as dprodate,  \r\n\r\nmax(iexpiratdatecalcu) as iexpiratdatecalcu,max(cexpirationdate) as cexpirationdate,max(dexpirationdate) as dexpirationdate\r\n\r\nfrom ex_consignment    \r\n\r\nleft join ex_consignmentdetail on ex_consignmentdetail.id = ex_consignment.id   \r\n\r\nleft join inventory on inventory.cinvcode = ex_consignmentdetail.cinvcode   \r\n\r\nleft join ex_order on ex_consignmentdetail.cordercode = ex_order.ccode   \r\n\r\nleft join ex_orderdetail on ex_order.id = ex_orderdetail.id  and ex_orderdetail.irowno = ex_consignmentdetail.irowno  \r\nleft join Factory on ex_consignmentdetail.cfactorycode =  Factory.cFactoryCode \r\n\r\nwhere isnull(ex_consignment.bdraft,0)=0 and ex_consignment.cvouchtype = N'EX25' and isnull(ex_consignmentdetail.clinecloser,'')='' --and ((isnull(binvbatch,0) = 1 and isnull(cBatch , N'')<>N'' ) or isnull(binvbatch,0) = 0)  \r\n\r\nand dbo.inventory.bexpsale = 1 and isnull(dbo.inventory.bservice,0) = 0 and isnull(dbo.inventory.binvtype,0) = 0 and ex_order.ibustypeid <> 5 and ex_consignment.ibustypeid<> 5     --去除直运业务  \r\n\r\ngroup by ex_orderdetail.idemandtype,ex_orderdetail.idemandseq,ex_orderdetail.cdemandid,ex_orderdetail.autoid,ex_consignmentdetail.cInvCode,coutwhcode,ex_consignmentdetail.cBatch,ex_consignmentdetail.cFree1,ex_consignmentdetail.cFree2,\r\nex_consignmentdetail.cFree3,ex_consignmentdetail.cFree4,ex_consignmentdetail.cFree5,ex_consignmentdetail.cFree6,\r\nex_consignmentdetail.cFree7,ex_consignmentdetail.cFree8,ex_consignmentdetail.cFree9,ex_consignmentdetail.cFree10,\r\nex_consignmentdetail.cvmivencode,ISNULL(ex_consignmentdetail.cfactorycode ,'')","summary":[{"field":"Documentation","value":{"_type":"link","name":"U8V16.5数据字典","id":"d6"}},{"field":"Schema","value":"dbo"},{"field":"Name","value":"v_EX_WaitInForStock"},{"field":"Type","value":"View"}],"columns":[{"id":"column-354507","object_id":"column-354507","name":"sotype","name_without_path":"sotype","description":null,"is_pk":false,"is_identity":false,"data_type":"smallint","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-354508","object_id":"column-354508","name":"sodid","name_without_path":"sodid","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"40","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-354509","object_id":"column-354509","name":"ddate","name_without_path":"ddate","description":null,"is_pk":false,"is_identity":false,"data_type":"datetime","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-354510","object_id":"column-354510","name":"cInvCode","name_without_path":"cInvCode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"60","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-354511","object_id":"column-354511","name":"cWhCode","name_without_path":"cWhCode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"15","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-354512","object_id":"column-354512","name":"cfactorycode","name_without_path":"cfactorycode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"50","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-354513","object_id":"column-354513","name":"cfactoryname","name_without_path":"cfactoryname","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"255","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-354514","object_id":"column-354514","name":"cBatch","name_without_path":"cBatch","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"60","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-354515","object_id":"column-354515","name":"cFree1","name_without_path":"cFree1","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-354516","object_id":"column-354516","name":"cFree2","name_without_path":"cFree2","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-354517","object_id":"column-354517","name":"cFree3","name_without_path":"cFree3","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-354518","object_id":"column-354518","name":"cFree4","name_without_path":"cFree4","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-354519","object_id":"column-354519","name":"cFree5","name_without_path":"cFree5","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-354520","object_id":"column-354520","name":"cFree6","name_without_path":"cFree6","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-354521","object_id":"column-354521","name":"cFree7","name_without_path":"cFree7","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-354522","object_id":"column-354522","name":"cFree8","name_without_path":"cFree8","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-354523","object_id":"column-354523","name":"cFree9","name_without_path":"cFree9","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-354524","object_id":"column-354524","name":"cFree10","name_without_path":"cFree10","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-354525","object_id":"column-354525","name":"cvmivencode","name_without_path":"cvmivencode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"40","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-354526","object_id":"column-354526","name":"fInQuantity","name_without_path":"fInQuantity","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"38, 6","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-354527","object_id":"column-354527","name":"finnum","name_without_path":"finnum","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"38, 6","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-354528","object_id":"column-354528","name":"dvdate","name_without_path":"dvdate","description":null,"is_pk":false,"is_identity":false,"data_type":"datetime","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-354529","object_id":"column-354529","name":"dprodate","name_without_path":"dprodate","description":null,"is_pk":false,"is_identity":false,"data_type":"datetime","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-354530","object_id":"column-354530","name":"iexpiratdatecalcu","name_without_path":"iexpiratdatecalcu","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-354531","object_id":"column-354531","name":"cexpirationdate","name_without_path":"cexpirationdate","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-354532","object_id":"column-354532","name":"dexpirationdate","name_without_path":"dexpirationdate","description":null,"is_pk":false,"is_identity":false,"data_type":"datetime","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]}],"relations":[],"triggers":[],"unique_keys":[],"dependencies":null,"imported_at":"2024-07-15 13:47"};