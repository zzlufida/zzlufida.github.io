window.repositoryObject = {"columns_custom_fields":[],"relations_custom_fields":[],"triggers_custom_fields":[],"object_id":"v10315","name":"CM_QTrackMulti_EX","subtype":"VIEW","is_user_defined":false,"description":null,"script":"CREATE View CM_QTrackMulti_EX\r\nAS\r\nSelect distinct C.strContractID,C.strCode, Null As cBalanceID,Null As cSoCode,Null As VouchID,'EXCM' As BillType,\r\ndbo.UDF_GetResourceMessageByID('U8.CW.CM.ContractItem')  As VoucherType,C.strCode As VoucherCode,dblQuantity,\r\ndblUntaxSum As dblSum1,dblSum As dblSum2,dblUntaxSumRMB As dblSum3,dblSumRMB As dblSum4\r\nFrom CM_QTrackConItem C\r\nUnion\t--订单\r\nSelect distinct strContractID,strCode,cBalanceID,Null As cSoCode,VouchID,'EX23' As BillType,dbo.UDF_GetResourceMessageByID('U8.CM.UFContract.01712') As VoucherType,\r\ncBalanceID As VoucherCode,dblQuantity,dblSum1,dblSum2,dblSum3,dblSum4\r\nFrom (Select cBalanceID,strContractID,strCode,VouchID,Sum(fQuantity) As dblQuantity,\r\n\tSum(fMoney) As dblSum1,Sum(fTaxMoney) As dblSum2,Sum(fNatMoney) As dblSum3,Sum(fNatTaxMoney) As dblSum4 \r\n\tFrom CM_QTrackExOrder Group By strContractID,strCode,cBalanceID,VouchID) Bal\r\nUnion --销货单\r\nSelect distinct strContractID,strCode,cOrderCode As cBalanceID,Null As cSoCode,VouchID,cvouchtype as BillType,cvouchtypename As VoucherType,\r\nOtherCode As VoucherCode,dblQuantity,dblSum1,dblSum2,dblSum3,dblSum4\r\nFrom (Select OtherCode,cOrderCode,strContractID,strCode,VouchID,cvouchtype,max(cvouchtypename) as cvouchtypename,Sum(fQuantity) As dblQuantity,\r\n\tSum(fMoney) As dblSum1,Sum(fTaxMoney) As dblSum2,Sum(fNatMoney) As dblSum3,Sum(fNatTaxMoney) As dblSum4 \r\n\tFrom CM_QTrackExConsignment Group By strContractID,strCode,OtherCode,cOrderCode,VouchID,cvouchtype) Other1\r\nUnion\t--发票\r\nSelect distinct strContractID,strCode,cOrderCode As cBalanceID,OtherCode As cSoCode,VouchID,cvouchtype As BillType, VoucherType,\r\nOtherCode As VoucherCode,dblQuantity,dblSum1,dblSum2,dblSum3,dblSum4\r\nFrom (Select cvouchtype,VoucherType,OtherCode,cOrderCode,strContractID,strCode,VouchID,Sum(fQuantity) As dblQuantity,\r\n\tSum(fMoney) As dblSum1,Sum(fTaxMoney) As dblSum2,Sum(fNatMoney) As dblSum3,Sum(fNatTaxMoney) As dblSum4 \r\n\tFrom CM_QTrackExInvoice Group By strContractID,strCode,OtherCode,cOrderCode,VouchID,cvouchtype,VoucherType) Other2\r\nUnion\t--收付款单\r\nSelect C.strContractID,C.strCode,S.cordercode As cBalanceID,T.ccode As cSoCode,S.id As VouchID,'EXAP' As BillType,C.cVoucherType As VoucherType,\r\nC.cVouchID As VoucherCode,Null As dblQuantity,Null As dblSum1,sum(iAmount_f) As dblSum2,Null As dblSum3,sum(iAmount) As dblSum4\r\nFrom CM_V_ApCloseEXs C \r\nInner Join ex_invoicedetail S On S.AutoID=C.ibvid\r\nInner Join ex_invoice T On S.id=T.id\r\nWhere IsNUll(C.cVoucherType,'')<>''\r\nGroup By cVoucherType,I_id,strContractID,strCode,cCoVouchID,cVouchID,S.id,S.cordercode,T.ccode\r\nUnion\t\t--出库单\r\nSelect distinct strContractID,strCode,cOrderCode As cBalanceID,Null As cSoCode,VouchID,'EXRD' As BillType,dbo.UDF_GetResourceMessageByID('U8.CM.UFContract.01715') As VoucherType,\r\nOtherCode As VoucherCode,dblQuantity,dblSum1,dblSum2,dblSum3,dblSum4\r\nFrom (Select OtherCode,cOrderCode,strContractID,strCode,VouchID,Sum(iQuantity) As dblQuantity,\r\n\tSum(iOriMoney) As dblSum1,Sum(iOriSum) As dblSum2,Sum(iPrice) As dblSum3,Sum(iSum) As dblSum4 \r\n\tFrom CM_QTrackExRecord Group By strContractID,strCode,OtherCode,cOrderCode,VouchID) Other3","summary":[{"field":"Documentation","value":{"_type":"link","name":"U8V16.5数据字典","id":"d6"}},{"field":"Schema","value":"dbo"},{"field":"Name","value":"CM_QTrackMulti_EX"},{"field":"Type","value":"View"}],"columns":[{"id":"column-183607","object_id":"column-183607","name":"strContractID","name_without_path":"strContractID","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"64","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-183608","object_id":"column-183608","name":"strCode","name_without_path":"strCode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"150","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-183609","object_id":"column-183609","name":"cBalanceID","name_without_path":"cBalanceID","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"40","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-183610","object_id":"column-183610","name":"cSoCode","name_without_path":"cSoCode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"40","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-183611","object_id":"column-183611","name":"VouchID","name_without_path":"VouchID","description":null,"is_pk":false,"is_identity":false,"data_type":"bigint","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-183612","object_id":"column-183612","name":"BillType","name_without_path":"BillType","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"5","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-183613","object_id":"column-183613","name":"VoucherType","name_without_path":"VoucherType","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"2048","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-183614","object_id":"column-183614","name":"VoucherCode","name_without_path":"VoucherCode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"150","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-183615","object_id":"column-183615","name":"dblQuantity","name_without_path":"dblQuantity","description":null,"is_pk":false,"is_identity":false,"data_type":"float","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-183616","object_id":"column-183616","name":"dblSum1","name_without_path":"dblSum1","description":null,"is_pk":false,"is_identity":false,"data_type":"float","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-183617","object_id":"column-183617","name":"dblSum2","name_without_path":"dblSum2","description":null,"is_pk":false,"is_identity":false,"data_type":"float","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-183618","object_id":"column-183618","name":"dblSum3","name_without_path":"dblSum3","description":null,"is_pk":false,"is_identity":false,"data_type":"float","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-183619","object_id":"column-183619","name":"dblSum4","name_without_path":"dblSum4","description":null,"is_pk":false,"is_identity":false,"data_type":"float","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]}],"relations":[],"triggers":[],"unique_keys":[],"dependencies":null,"imported_at":"2024-07-15 13:47"};