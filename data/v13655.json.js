window.repositoryObject = {"columns_custom_fields":[],"relations_custom_fields":[],"triggers_custom_fields":[],"object_id":"v13655","name":"v_mom_orderdetail_saleorder","subtype":"VIEW","is_user_defined":false,"description":null,"script":"create view v_mom_orderdetail_saleorder\r\nas\r\nselect isosid = convert(nvarchar(30),d.SoDId),\r\n       moid = d.moid,-- 遗漏现在还未添加\r\n       modid = d.modid,-- 遗漏现在还未添加\r\n       vt_id = v.vt_id,\r\n    -- cvouchtype =v.vt_cardnumber,\r\n       cvouchtype ='MO21',\r\n       cvouchname = e.enumname,--单据类型\r\n    -- cvouchstate = e1.enumname,--单据状态\r\n       cvouchstate = case when d.Status = 1 then N'未审核' when d.Status = 2 then N'锁定' when d.Status = 3 then N'审核' when d.Status = 4 then N'关闭' end, --单据状态\r\n       sotype = d.SoType,--来源单据类型 1销售订单 3出口订单\r\n       ccode = h.mocode, --生产订单号\r\n       ddate = h.CreateDate,--单据日期\r\n       cdepcode= d.mdeptcode,--部门代号\r\n       cdepname=p.cdepname,--部门名称\r\n       cvencode = null,--委外商编码\r\n       cvenabbname = null,--委外商名称\r\n       cinvcode=d.invcode,-- 存货编码\r\n       cinvname = i.cinvname,--存货名称\r\n       cinvaddcode = i.cinvaddcode,--存货代码\r\n       cinvstd = i.cinvstd,--规格型号\r\n       dstartdate = coalesce(d1.startdate,d2.fusd),-- 开工日期\r\n       darrivedate = coalesce(d1.duedate,d2.lucd),-- 完工日期\r\n       ccomunitcode = i.ccomunitcode,-- 主计量\r\n       cinvm_unit=c1.ccomunitname,-- 主计量名称\r\n       iquantity = d.qty,--生产/委外数量\r\n       ireceivedqty =d.qualifiedinqty,--完工入库数量\r\n       cunitid = d.auxunitcode,--辅助计量\r\n       cinva_unit = c2.ccomunitname,--辅助计量名称\r\n       iinvexchrate = d.changerate,-- 换算率\r\n       inum = d.auxqty,--生产/委外件数\r\n--     auxqualifiedinqty= case when d.auxunitcode is null then null else d.qualifiedinqty/d.changerate end,\r\n       inoqty = d.Mrpqty - d.qualifiedinqty, --未完工数量\r\n       wgpercent =100 * d.qualifiedinqty/d.qty\r\nfrom mom_orderdetail d with (nolock)\r\ninner join mom_order h with (nolock) on h.moid = d.moid \r\nleft outer join mom_morder d1 with (nolock) on d1.modid = d.modid \r\nleft outer join mom_remorder d2 with (nolock) on d2.modid = d.modid\r\ninner join bas_part b with (nolock) on d.partId = b.PartId \r\ninner join Inventory i with (nolock) on i.cInvCode = b.InvCode\r\nleft outer join ComputationUnit c1 with (nolock) on c1.cComunitCode = i.cComUnitCode \r\nleft outer join ComputationUnit c2 with (nolock) on c2.cComunitCode = d.AuxUnitCode\r\nleft outer join Department as p with (nolock) on p.cDepCode = d.MDeptCode\r\nleft outer join aa_enum e with (nolock) on e.localeid = dbo.UDF_GetLocaleID() and e.enumtype = 'QM.CSOURCE' and e.EnumIndex = 22\r\nleft outer join VoucherTemplates v with (nolock) on v.VT_ID = h.VTID\r\nwhere d.fmflag = 0  \r\n--left outer join aa_enum e1 on e1.localeid = dbo.UDF_GetLocaleID() and e1.enumtype = 'MO.Status' and e1.EnumIndex = d.Status\r\n--where d.Orderdid <> 0 and d.Orderdid is not null","summary":[{"field":"Documentation","value":{"_type":"link","name":"U8V16.5数据字典","id":"d6"}},{"field":"Schema","value":"dbo"},{"field":"Name","value":"v_mom_orderdetail_saleorder"},{"field":"Type","value":"View"}],"columns":[{"id":"column-393264","object_id":"column-393264","name":"isosid","name_without_path":"isosid","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"30","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-393265","object_id":"column-393265","name":"moid","name_without_path":"moid","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-393266","object_id":"column-393266","name":"modid","name_without_path":"modid","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-393267","object_id":"column-393267","name":"vt_id","name_without_path":"vt_id","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-393268","object_id":"column-393268","name":"cvouchtype","name_without_path":"cvouchtype","description":null,"is_pk":false,"is_identity":false,"data_type":"varchar","data_length":"4","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-393269","object_id":"column-393269","name":"cvouchname","name_without_path":"cvouchname","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"150","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-393270","object_id":"column-393270","name":"cvouchstate","name_without_path":"cvouchstate","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"3","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-393271","object_id":"column-393271","name":"sotype","name_without_path":"sotype","description":null,"is_pk":false,"is_identity":false,"data_type":"tinyint","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-393272","object_id":"column-393272","name":"ccode","name_without_path":"ccode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"30","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-393273","object_id":"column-393273","name":"ddate","name_without_path":"ddate","description":null,"is_pk":false,"is_identity":false,"data_type":"datetime","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-393274","object_id":"column-393274","name":"cdepcode","name_without_path":"cdepcode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"12","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-393275","object_id":"column-393275","name":"cdepname","name_without_path":"cdepname","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"255","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-393276","object_id":"column-393276","name":"cvencode","name_without_path":"cvencode","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-393277","object_id":"column-393277","name":"cvenabbname","name_without_path":"cvenabbname","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-393278","object_id":"column-393278","name":"cinvcode","name_without_path":"cinvcode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"60","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-393279","object_id":"column-393279","name":"cinvname","name_without_path":"cinvname","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"255","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-393280","object_id":"column-393280","name":"cinvaddcode","name_without_path":"cinvaddcode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"255","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-393281","object_id":"column-393281","name":"cinvstd","name_without_path":"cinvstd","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"255","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-393282","object_id":"column-393282","name":"dstartdate","name_without_path":"dstartdate","description":null,"is_pk":false,"is_identity":false,"data_type":"datetime","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-393283","object_id":"column-393283","name":"darrivedate","name_without_path":"darrivedate","description":null,"is_pk":false,"is_identity":false,"data_type":"datetime","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-393284","object_id":"column-393284","name":"ccomunitcode","name_without_path":"ccomunitcode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"35","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-393285","object_id":"column-393285","name":"cinvm_unit","name_without_path":"cinvm_unit","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-393286","object_id":"column-393286","name":"iquantity","name_without_path":"iquantity","description":null,"is_pk":false,"is_identity":false,"data_type":"Udt_QTY: decimal","data_length":"28, 6","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-393287","object_id":"column-393287","name":"ireceivedqty","name_without_path":"ireceivedqty","description":null,"is_pk":false,"is_identity":false,"data_type":"Udt_QTY: decimal","data_length":"28, 6","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-393288","object_id":"column-393288","name":"cunitid","name_without_path":"cunitid","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"35","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-393289","object_id":"column-393289","name":"cinva_unit","name_without_path":"cinva_unit","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-393290","object_id":"column-393290","name":"iinvexchrate","name_without_path":"iinvexchrate","description":null,"is_pk":false,"is_identity":false,"data_type":"Udt_ChangeRate: decimal","data_length":"22, 6","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-393291","object_id":"column-393291","name":"inum","name_without_path":"inum","description":null,"is_pk":false,"is_identity":false,"data_type":"Udt_QTY: decimal","data_length":"28, 6","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-393292","object_id":"column-393292","name":"inoqty","name_without_path":"inoqty","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"29, 6","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-393293","object_id":"column-393293","name":"wgpercent","name_without_path":"wgpercent","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"38, 6","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]}],"relations":[],"triggers":[],"unique_keys":[],"dependencies":null,"imported_at":"2024-07-15 13:47"};