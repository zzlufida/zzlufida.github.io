window.repositoryObject = {"columns_custom_fields":[],"relations_custom_fields":[],"triggers_custom_fields":[],"object_id":"v13564","name":"v_im_RelInvoiceDetail","subtype":"VIEW","is_user_defined":false,"description":null,"script":"create VIEW v_im_RelInvoiceDetail    \r\nAS    \r\n--因费用发票无订单子表AutoID所以连接取值  适用于红蓝商务发票,红蓝费用发票,红字海关缴款单\r\nSELECT im_invoice.id,im_invoicedetail.autoid,im_invoice.cvouchtype,im_invoicedetail.objectid_source,autoid_source  \r\nFROM im_invoice inner join im_invoicedetail on im_invoice.id=im_invoicedetail.id where isnull(objectid_source,'')<>''  \r\nand im_invoice.cvouchtype in('IM90','IM91','IM92','IM93','IM84','IM85','IM86','IM95','IM96')    \r\nunion all   \r\n  \r\nSELECT im_invoice.id,im_invoicedetail.autoid,im_invoice.cvouchtype,(case when odd.autoid is null then objectid_source else 'IM23' end) as objectid_source,odd.autoid as autoid_source  \r\nFROM im_invoice inner join im_invoicedetail on im_invoice.id=im_invoicedetail.id  \r\nleft join (select ccode,autoid from im_order inner join im_orderdetail on im_order.id=im_orderdetail.id) as odd  \r\non im_invoice.cgeneralordercode=odd.ccode where isnull(objectid_source,'')='' and im_invoice.cvouchtype='IM92'  \r\n--适用于蓝海关关税缴款单\r\nunion all   \r\nSELECT im_invoice.id,im_invoicedetail.autoid,\r\nim_invoice.cvouchtype,\r\nim_invoiceorderlist.objectid_sourcesl as objectid_source,\r\n(case when im_invoiceorderlist.objectid_sourcesl!='IM23' then im_invoiceorderlist.Invoicelineid\r\nelse im_invoiceorderlist.iorderautoidsl end ) as autoid_source\r\nFROM im_invoice inner join im_invoicedetail on im_invoice.id=im_invoicedetail.id \r\ninner join im_invoiceorderlist on im_invoice.id=im_invoiceorderlist.id \r\nand im_invoicedetail.autoid=im_invoiceorderlist.lineid\r\nwhere isnull(im_invoiceorderlist.objectid_sourcesl,'')<>''  \r\nand im_invoice.cvouchtype in('IM94')","summary":[{"field":"Documentation","value":{"_type":"link","name":"U8V16.5数据字典","id":"d6"}},{"field":"Schema","value":"dbo"},{"field":"Name","value":"v_im_RelInvoiceDetail"},{"field":"Type","value":"View"}],"columns":[{"id":"column-386692","object_id":"column-386692","name":"id","name_without_path":"id","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-386693","object_id":"column-386693","name":"autoid","name_without_path":"autoid","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-386694","object_id":"column-386694","name":"cvouchtype","name_without_path":"cvouchtype","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"30","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-386695","object_id":"column-386695","name":"objectid_source","name_without_path":"objectid_source","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"50","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-386696","object_id":"column-386696","name":"autoid_source","name_without_path":"autoid_source","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]}],"relations":[],"triggers":[],"unique_keys":[],"dependencies":null,"imported_at":"2024-07-15 13:47"};