window.repositoryObject = {"columns_custom_fields":[],"relations_custom_fields":[],"triggers_custom_fields":[],"object_id":"v13045","name":"v_Ex_orderdetail_ref","subtype":"VIEW","is_user_defined":false,"description":null,"script":"create view v_Ex_orderdetail_ref   \r\nas  \r\nselect b.cinvcode,i.cinvname,i.cinvaddcode,i.cinvstd,co.ccomunitname as cunitid,b.cfree1,b.cfree2,b.cfree3,b.cfree4,b.cfree5,b.cfree6,b.cfree7,b.cfree8,  \r\n b.cfree9,b.cfree10,  \r\n h.ccode,b.irowno,h.cdepcode,d.cdepname,h.ccuscode,c.ccusabbname,c.ccusname,h.cpersoncode,p.cpersonname,  \r\n a.enumname as istatus,  \r\n h.iverifystate,h.clocker,b.clinecloser,h.ccloser,h.cverifier,I.csrpolicy,  \r\n fquantity,b.autoid,b.id,  \r\n case when isnull(bom.bomid,0)=0 then B.icusbomid else bom.bomid end as icusbomid,  \r\n idemandtype,convert(int,isnull(b.borderbom,0)) as borderbom,  \r\n (case isnull(idemandtype,0) when 3 then convert(nvarchar(40),b.autoid) when 6 then ccode when 4 then cdemandcode else N'' end) as cdemandDid,  \r\n   \r\n-- case when isnull(B.cdemandcode,'')='' then (select top 1 crclasscode from aa_requirementclass where isnull(bsystem,0)=1) else B.cdemandcode end as cdemandcode,    \r\n-- case when isnull(B.cdemandcode,'')='' then (select top 1 crclassname from aa_requirementclass where isnull(bsystem,0)=1) else (select crclassname from aa_requirementclass where crclasscode=B.cdemandcode) end as cdemandmemo  \r\n   \r\n --B.cdemandcode as cdemandcode,    \r\n --(select crclassname from aa_requirementclass where crclasscode=B.cdemandcode) as cdemandmemo  \r\n \r\n(case when isnull(B.cdetailsdemandcode,'') ='' then N'' else B.cdetailsdemandcode end)  as cdemandcode,\r\n ISNULL(b.cdetailsdemandmemo,'')  as cdemandmemo\r\n  \r\n from ex_order H inner join ex_orderdetail B on H.id=B.id and isnull(b.clinecloser,'')=''  \r\n --left join bom_orderbom bom on bom.orderdid=b.autoid and ordertype=3    \r\n left join inventory i on B.cinvcode=i.cinvcode \r\n left join bas_part  on  bas_part.invcode = i.cinvcode \r\n        and (isnull(b.cfree1,'')=isnull(bas_part.free1,'') or i.bconfigfree1=0) and (isnull(b.cfree2,'')=isnull(bas_part.free2,'') or i.bconfigfree2=0)    \r\n \tand (isnull(b.cfree3,'')=isnull(bas_part.free3,'') or i.bconfigfree3=0) and (isnull(b.cfree4,'')=isnull(bas_part.free4,'') or i.bconfigfree4=0)    \r\n \tand (isnull(b.cfree6,'')=isnull(bas_part.free6,'') or i.bconfigfree6=0) and (isnull(b.cfree5,'')=isnull(bas_part.free5,'') or i.bconfigfree5=0)    \r\n \tand (isnull(b.cfree7,'')=isnull(bas_part.free7,'') or i.bconfigfree7=0) and (isnull(b.cfree8,'')=isnull(bas_part.free8,'') or i.bconfigfree8=0)    \r\n \tand (isnull(b.cfree9,'')=isnull(bas_part.free9,'') or i.bconfigfree9=0) and (isnull(b.cfree10,'')=isnull(bas_part.free10,'') or i.bconfigfree10=0)    \r\n left join         \r\n      (select Bom_OrderBom.BomId,Bom_Parent.parentid,bom_orderbom.orderdid,Bom_OrderBom.OrderType from Bom_OrderBom inner join Bom_Parent on Bom_OrderBom.BomId=Bom_Parent.BomId          \r\n             inner join Bas_Part on Bom_Parent.ParentId=Bas_Part.PartId          \r\n             where Bom_OrderBom.OrderType in (3)  \r\n      ) bom  on bom.parentid=bas_part.partid and cast(bom.orderdid as nvarchar(60))=cast(b.autoid as nvarchar(60) )\r\n                and bom.OrderType   =3\r\n\r\n \r\n left join person p on h.cpersoncode=p.cpersoncode  \r\n left join Department d ON h.cDepCode = d.cDepCode  \r\n left join Customer  c with (nolock) on h.cCusCode=c.cCusCode  \r\n left join v_aa_enum a on h.iverifystate=a.enumcode and enumtype=N'ST.ExVouchCheckState'   \r\n left join computationunit co on  i.ccomunitcode=co.ccomunitcode  \r\n where ibustypeid<>5 and b.cinvcode in (select bas_part.invcode from v_bom_all, bas_part where v_bom_all.parentid = bas_part.partid and v_bom_all.Status = 3 and (i.bATOModel=0 or i.bInvModel=0)  \r\n and (isnull(b.cfree1,'')=isnull(bas_part.free1,'') or i.bconfigfree1=0) and (isnull(b.cfree2,'')=isnull(bas_part.free2,'') or i.bconfigfree2=0)  \r\n and (isnull(b.cfree3,'')=isnull(bas_part.free3,'') or i.bconfigfree3=0) and (isnull(b.cfree4,'')=isnull(bas_part.free4,'') or i.bconfigfree4=0)  \r\n and (isnull(b.cfree6,'')=isnull(bas_part.free6,'') or i.bconfigfree6=0) and (isnull(b.cfree5,'')=isnull(bas_part.free5,'') or i.bconfigfree5=0)  \r\n and (isnull(b.cfree7,'')=isnull(bas_part.free7,'') or i.bconfigfree7=0) and (isnull(b.cfree8,'')=isnull(bas_part.free8,'') or i.bconfigfree8=0)  \r\n and (isnull(b.cfree9,'')=isnull(bas_part.free9,'') or i.bconfigfree9=0) and (isnull(b.cfree10,'')=isnull(bas_part.free10,'') or i.bconfigfree10=0)  \r\n  \r\n ) or b.cinvcode in (select bas_part.invcode from bom_cbom,bas_part where bom_cbom.parentid = bas_part.partid and  i.bATOModel=1 and i.bInvModel=1   \r\n and (isnull(b.cfree1,'')=isnull(bas_part.free1,'') or i.bconfigfree1=0) and (isnull(b.cfree2,'')=isnull(bas_part.free2,'') or i.bconfigfree2=0)  \r\n and (isnull(b.cfree3,'')=isnull(bas_part.free3,'') or i.bconfigfree3=0) and (isnull(b.cfree4,'')=isnull(bas_part.free4,'') or i.bconfigfree4=0)  \r\n and (isnull(b.cfree6,'')=isnull(bas_part.free6,'') or i.bconfigfree6=0) and (isnull(b.cfree5,'')=isnull(bas_part.free5,'') or i.bconfigfree5=0)  \r\n and (isnull(b.cfree7,'')=isnull(bas_part.free7,'') or i.bconfigfree7=0) and (isnull(b.cfree8,'')=isnull(bas_part.free8,'') or i.bconfigfree8=0)  \r\n and (isnull(b.cfree9,'')=isnull(bas_part.free9,'') or i.bconfigfree9=0) and (isnull(b.cfree10,'')=isnull(bas_part.free10,'') or i.bconfigfree10=0)  \r\n)","summary":[{"field":"Documentation","value":{"_type":"link","name":"U8V16.5数据字典","id":"d6"}},{"field":"Schema","value":"dbo"},{"field":"Name","value":"v_Ex_orderdetail_ref"},{"field":"Type","value":"View"}],"columns":[{"id":"column-342653","object_id":"column-342653","name":"cinvcode","name_without_path":"cinvcode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"60","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-342654","object_id":"column-342654","name":"cinvname","name_without_path":"cinvname","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"255","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-342655","object_id":"column-342655","name":"cinvaddcode","name_without_path":"cinvaddcode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"255","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-342656","object_id":"column-342656","name":"cinvstd","name_without_path":"cinvstd","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"255","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-342657","object_id":"column-342657","name":"cunitid","name_without_path":"cunitid","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-342658","object_id":"column-342658","name":"cfree1","name_without_path":"cfree1","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-342659","object_id":"column-342659","name":"cfree2","name_without_path":"cfree2","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-342660","object_id":"column-342660","name":"cfree3","name_without_path":"cfree3","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-342661","object_id":"column-342661","name":"cfree4","name_without_path":"cfree4","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-342662","object_id":"column-342662","name":"cfree5","name_without_path":"cfree5","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-342663","object_id":"column-342663","name":"cfree6","name_without_path":"cfree6","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-342664","object_id":"column-342664","name":"cfree7","name_without_path":"cfree7","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-342665","object_id":"column-342665","name":"cfree8","name_without_path":"cfree8","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-342666","object_id":"column-342666","name":"cfree9","name_without_path":"cfree9","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-342667","object_id":"column-342667","name":"cfree10","name_without_path":"cfree10","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-342668","object_id":"column-342668","name":"ccode","name_without_path":"ccode","description":null,"is_pk":false,"is_identity":false,"data_type":"excode: nvarchar","data_length":"40","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-342669","object_id":"column-342669","name":"irowno","name_without_path":"irowno","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-342670","object_id":"column-342670","name":"cdepcode","name_without_path":"cdepcode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"15","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-342671","object_id":"column-342671","name":"cdepname","name_without_path":"cdepname","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"255","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-342672","object_id":"column-342672","name":"ccuscode","name_without_path":"ccuscode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"30","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-342673","object_id":"column-342673","name":"ccusabbname","name_without_path":"ccusabbname","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"60","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-342674","object_id":"column-342674","name":"ccusname","name_without_path":"ccusname","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"98","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-342675","object_id":"column-342675","name":"cpersoncode","name_without_path":"cpersoncode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"30","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-342676","object_id":"column-342676","name":"cpersonname","name_without_path":"cpersonname","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"40","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-342677","object_id":"column-342677","name":"istatus","name_without_path":"istatus","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"150","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-342678","object_id":"column-342678","name":"iverifystate","name_without_path":"iverifystate","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-342679","object_id":"column-342679","name":"clocker","name_without_path":"clocker","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"40","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-342680","object_id":"column-342680","name":"clinecloser","name_without_path":"clinecloser","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"40","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-342681","object_id":"column-342681","name":"ccloser","name_without_path":"ccloser","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"40","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-342682","object_id":"column-342682","name":"cverifier","name_without_path":"cverifier","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"40","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-342683","object_id":"column-342683","name":"csrpolicy","name_without_path":"csrpolicy","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"2","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-342684","object_id":"column-342684","name":"fquantity","name_without_path":"fquantity","description":null,"is_pk":false,"is_identity":false,"data_type":"exdecimal: decimal","data_length":"18, 6","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-342685","object_id":"column-342685","name":"autoid","name_without_path":"autoid","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-342686","object_id":"column-342686","name":"id","name_without_path":"id","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-342687","object_id":"column-342687","name":"icusbomid","name_without_path":"icusbomid","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-342688","object_id":"column-342688","name":"idemandtype","name_without_path":"idemandtype","description":null,"is_pk":false,"is_identity":false,"data_type":"smallint","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-342689","object_id":"column-342689","name":"borderbom","name_without_path":"borderbom","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-342690","object_id":"column-342690","name":"cdemandDid","name_without_path":"cdemandDid","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"40","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-342691","object_id":"column-342691","name":"cdemandcode","name_without_path":"cdemandcode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"40","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-342692","object_id":"column-342692","name":"cdemandmemo","name_without_path":"cdemandmemo","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"300","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]}],"relations":[],"triggers":[],"unique_keys":[],"dependencies":null,"imported_at":"2024-07-15 13:47"};