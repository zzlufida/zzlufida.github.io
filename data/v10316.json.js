window.repositoryObject = {"columns_custom_fields":[],"relations_custom_fields":[],"triggers_custom_fields":[],"object_id":"v10316","name":"CM_QTrackMulti_IM","subtype":"VIEW","is_user_defined":false,"description":null,"script":"CREATE View CM_QTrackMulti_IM\r\nAS\r\nSelect distinct C.strContractID,C.strCode, Null As cBalanceID,Null As cPbvCode,Null As VouchID,'IMCM' As BillType,\r\ndbo.UDF_GetResourceMessageByID('U8.CW.CM.ContractItem')  As VoucherType,C.strCode As VoucherCode,dblQuantity,\r\ndblUntaxSum As dblSum1,dblSum As dblSum2,dblUntaxSumRMB As dblSum3,dblSumRMB As dblSum4\r\nFrom CM_QTrackConItem C\r\nUnion --订单\r\nSelect distinct strContractID,strCode,cBalanceID,Null As cPbvCode,VouchID,'IM23' As BillType,dbo.UDF_GetResourceMessageByID('U8.CM.UFContract.01716') As VoucherType,\r\ncBalanceID As VoucherCode,dblQuantity,dblSum1,dblSum2,dblSum3,dblSum4\r\nFrom (Select cBalanceID,strContractID,strCode,VouchID,Sum(fQuantity) As dblQuantity,\r\n\tSum(fmoney) As dblSum1,Sum(ftaxmoney) As dblSum2,Sum(fnatmoney) As dblSum3,Sum(fnattaxmoney) As dblSum4 \r\n\tFrom CM_QTrackImOrder Group By strContractID,strCode,cBalanceID,VouchID) Bal\r\nUnion\t\t\t\t--到货单\r\nSelect distinct strContractID,strCode,cOrderCode As cBalanceID,Null As cPbvCode,VouchID,cvouchtype As BillType,cvouchtypename As VoucherType,\r\nOtherCode As VoucherCode,dblQuantity,dblSum1,dblSum2,dblSum3,dblSum4\r\nFrom (Select OtherCode,cOrderCode,strContractID,strCode,VouchID,cvouchtype,max(cvouchtypename) as cvouchtypename,\r\nSum(iQuantity) As dblQuantity,Sum(iOriMoney) As dblSum1,Sum(iOriSum) As dblSum2,Sum(iMoney) As dblSum3,Sum(iSum) As dblSum4 \r\n\tFrom CM_QTrackImArrival Group By strContractID,strCode,OtherCode,cOrderCode,VouchID,cvouchtype) Other1\r\nUnion\t\t\t\t--发票\r\nSelect distinct strContractID,strCode,cOrderCode As cBalanceID,OtherCode As cPbvCode,VouchID,cvouchtype as BillType,cvouchtypename As VoucherType,\r\nOtherCode As VoucherCode,dblQuantity,dblSum1,dblSum2,dblSum3,dblSum4\r\nFrom (Select OtherCode,cOrderCode,strContractID,strCode,VouchID,cvouchtype,max(cvouchtypename) as cvouchtypename,Sum(fquantity) As dblQuantity,\r\n\tSum(fmoney) As dblSum1,Sum(ftaxmoney) As dblSum2,Sum(fnatmoney) As dblSum3,Sum(fnattaxmoney) As dblSum4 \r\n\tFrom CM_QTrackImInvoice Group By strContractID,strCode,OtherCode,cOrderCode,VouchID,cvouchtype) Other2\r\nUnion\t\t\t\t--收付款单\r\nSelect distinct C.strContractID,C.strCode,S.cOrderCode As cBalanceID,B.cCode As cSoCode,S.ID As VouchID,'IMAP' As BillType,C.cVoucherType As VoucherType,\r\nC.cVouchID As VoucherCode,Null As dblQuantity,Null As dblSum1,sum(iAmount_f) As dblSum2,Null As dblSum3,sum(iAmount) As dblSum4\r\nFrom CM_V_ApCloseIms C \r\nInner Join im_invoicedetail S On S.autoid=C.ibvid\r\nInner Join im_invoice B ON B.id=S.id \r\nWhere IsNUll(C.cVoucherType,'')<>''\r\nGroup By cVoucherType,I_id,strContractID,strCode,cCoVouchID,cVouchID,S.ID,S.cOrdercode,B.cCode\r\nUnion\t\t\t\t-- 入库单\r\nSelect distinct strContractID,strCode,cOrderCode As cBalanceID,Null As cPbvCode,VouchID,'IMRD' As BillType,dbo.UDF_GetResourceMessageByID('U8.CM.UFContract.01719') As VoucherType,\r\nOtherCode As VoucherCode,dblQuantity,dblSum1,dblSum2,dblSum3,dblSum4\r\nFrom (Select OtherCode,cOrderCode,strContractID,strCode,VouchID,Sum(iQuantity) As dblQuantity,\r\n\tSum(iOriMoney) As dblSum1,Sum(iOriSum) As dblSum2,Sum(iPrice) As dblSum3,Sum(iSum) As dblSum4 \r\n\tFrom CM_QTrackImRecord Group By strContractID,strCode,OtherCode,cOrderCode,VouchID) Other3","summary":[{"field":"Documentation","value":{"_type":"link","name":"U8V16.5数据字典","id":"d6"}},{"field":"Schema","value":"dbo"},{"field":"Name","value":"CM_QTrackMulti_IM"},{"field":"Type","value":"View"}],"columns":[{"id":"column-183620","object_id":"column-183620","name":"strContractID","name_without_path":"strContractID","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"64","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-183621","object_id":"column-183621","name":"strCode","name_without_path":"strCode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"150","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-183622","object_id":"column-183622","name":"cBalanceID","name_without_path":"cBalanceID","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"50","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-183623","object_id":"column-183623","name":"cPbvCode","name_without_path":"cPbvCode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"30","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-183624","object_id":"column-183624","name":"VouchID","name_without_path":"VouchID","description":null,"is_pk":false,"is_identity":false,"data_type":"bigint","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-183625","object_id":"column-183625","name":"BillType","name_without_path":"BillType","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"30","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-183626","object_id":"column-183626","name":"VoucherType","name_without_path":"VoucherType","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"2048","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-183627","object_id":"column-183627","name":"VoucherCode","name_without_path":"VoucherCode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"150","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-183628","object_id":"column-183628","name":"dblQuantity","name_without_path":"dblQuantity","description":null,"is_pk":false,"is_identity":false,"data_type":"float","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-183629","object_id":"column-183629","name":"dblSum1","name_without_path":"dblSum1","description":null,"is_pk":false,"is_identity":false,"data_type":"float","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-183630","object_id":"column-183630","name":"dblSum2","name_without_path":"dblSum2","description":null,"is_pk":false,"is_identity":false,"data_type":"float","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-183631","object_id":"column-183631","name":"dblSum3","name_without_path":"dblSum3","description":null,"is_pk":false,"is_identity":false,"data_type":"float","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-183632","object_id":"column-183632","name":"dblSum4","name_without_path":"dblSum4","description":null,"is_pk":false,"is_identity":false,"data_type":"float","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]}],"relations":[],"triggers":[],"unique_keys":[],"dependencies":null,"imported_at":"2024-07-15 13:47"};