window.repositoryObject = {"columns_custom_fields":[],"relations_custom_fields":[],"triggers_custom_fields":[],"object_id":"v10040","name":"BG_V_AllCaliberDatas","subtype":"VIEW","is_user_defined":false,"description":null,"script":"CREATE VIEW [dbo].[BG_V_AllCaliberDatas]  \r\nAS  \r\n SELECT    a.cKey ,  \r\n                        ( a.cSortCode + '''' + a.cItemCode + ''''  \r\n                          + b.cOrganCode ) cItemCode ,  \r\n                        a.cItemName ,  \r\n                        c.iLoginYear iyear  \r\n              FROM      dbo.BG_ArchiveData a  \r\n                        INNER JOIN bg_organ b ON b.bOwner = 1  \r\n                                                 AND a.cOrganCode = ''  AND a.cSortCode <> ''\r\n                        INNER JOIN dbo.BG_LoginToMakeYear c ON a.iMakeYear = c.iMakeYear  \r\n                                                              AND b.iMakeYear = c.iMakeYear  \r\n              UNION ALL  \r\n              SELECT    a.cKey ,  \r\n                        ( a.cSortCode + '''' + a.cItemCode + ''''  \r\n                          + a.cOrganCode ) cItemCode ,  \r\n                        a.cItemName ,  \r\n                        c.iLoginYear iyear  \r\n              FROM      dbo.BG_ArchiveData a  \r\n                        INNER JOIN dbo.BG_LoginToMakeYear c ON a.iMakeYear = c.iMakeYear  AND    a.cOrganCode <> ''   AND a.cSortCode <> ''\r\n             \r\n              UNION ALL  \r\n              SELECT     DISTINCT  \r\n                        a.cKey ,  \r\n                        b.cItemCode ,  \r\n                        b.cItemName ,  \r\n                        c.iLoginYear iyear  \r\n              FROM      dbo.BG_Archive AS a  \r\n                        INNER JOIN dbo.BG_ArchiveData AS b ON a.cSortKey = b.cKey  \r\n                        INNER JOIN dbo.BG_LoginToMakeYear AS c ON a.iMakeYear = c.iMakeYear  \r\n                                                              AND b.iMakeYear = c.iMakeYear  \r\n              UNION ALL  \r\n              SELECT    cKey ,  \r\n                        cItemCode ,  \r\n                        cItemName ,  \r\n                        c.iLoginYear iyear  \r\n              FROM      BG_ArchiveData AS a  \r\n                        INNER JOIN dbo.BG_LoginToMakeYear AS c ON a.iMakeYear = c.iMakeYear  AND a.cSortCode = '' AND a.cOrganCode=''\r\n \t          UNION ALL\r\n\t\t\t   SELECT   cKey ,\r\n\t\t\t\t\t\t( a.cItemCode + '''' + a.cOrganCode ) cItemCode ,\r\n\t\t\t\t\t\tcItemName ,\r\n\t\t\t\t\t\tc.iLoginYear iyear\r\n\t\t\t   FROM     BG_ArchiveData AS a\r\n\t\t\t\t\t\tINNER JOIN dbo.BG_LoginToMakeYear AS c ON a.iMakeYear = c.iMakeYear\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  AND a.cSortCode = ''\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  AND a.cOrganCode <> ''\r\n\r\n              UNION ALL  \r\n              SELECT    'Organ' cKey ,  \r\n                        cOrganCode ,  \r\n                        cOrganName ,  \r\n                        c.iLoginYear iyear  \r\n              FROM      BG_Organ AS a  \r\n                        INNER JOIN dbo.BG_LoginToMakeYear AS c ON a.iMakeYear = c.iMakeYear","summary":[{"field":"Documentation","value":{"_type":"link","name":"U8V16.5数据字典","id":"d6"}},{"field":"Schema","value":"dbo"},{"field":"Name","value":"BG_V_AllCaliberDatas"},{"field":"Type","value":"View"}],"columns":[{"id":"column-173188","object_id":"column-173188","name":"cKey","name_without_path":"cKey","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-173189","object_id":"column-173189","name":"cItemCode","name_without_path":"cItemCode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"130","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-173190","object_id":"column-173190","name":"cItemName","name_without_path":"cItemName","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"100","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-173191","object_id":"column-173191","name":"iyear","name_without_path":"iyear","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]}],"relations":[],"triggers":[],"unique_keys":[],"dependencies":null,"imported_at":"2024-07-15 13:47"};