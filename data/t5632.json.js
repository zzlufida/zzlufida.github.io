window.repositoryObject = {"columns_custom_fields":[],"relations_custom_fields":[],"unique_keys_custom_fields":[],"triggers_custom_fields":[],"object_id":"t5632","name":"GL_AccSum (科目总账)","subtype":"TABLE","is_user_defined":false,"description":null,"summary":[{"field":"Documentation","value":{"_type":"link","name":"U8V16.5数据字典","id":"d6"}},{"field":"Schema","value":"dbo"},{"field":"Name","value":"GL_AccSum"},{"field":"Type","value":"Table"},{"field":"Title","value":"科目总账"},{"field":"Module","value":[{"_type":"link","name":"总账财务","id":"m112"}]}],"columns":[{"id":"column-67353","object_id":"column-67353","name":"i_id (自动编号)","name_without_path":"i_id (自动编号)","description":null,"is_pk":true,"is_identity":true,"data_type":"int","data_length":null,"is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-67332","object_id":"column-67332","name":"ccode (科目编码)","name_without_path":"ccode (科目编码)","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"40","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-67333","object_id":"column-67333","name":"cexch_name (币种名称)","name_without_path":"cexch_name (币种名称)","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"8","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-67334","object_id":"column-67334","name":"iperiod (会计期间)","name_without_path":"iperiod (会计期间)","description":null,"is_pk":false,"is_identity":false,"data_type":"tinyint","data_length":null,"is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-67335","object_id":"column-67335","name":"cbegind_c (金额期初方向)","name_without_path":"cbegind_c (金额期初方向)","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"2","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-67336","object_id":"column-67336","name":"cbegind_c_engl (金额期初方向英文)","name_without_path":"cbegind_c_engl (金额期初方向英文)","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"2","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-67337","object_id":"column-67337","name":"mb (金额期初)","name_without_path":"mb (金额期初)","description":null,"is_pk":false,"is_identity":false,"data_type":"money","data_length":null,"is_nullable":false,"computed_formula":null,"default_value":"CREATE DEFAULT dbo.GL_accsum_mb_D AS 0","path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-67338","object_id":"column-67338","name":"md (借方金额)","name_without_path":"md (借方金额)","description":null,"is_pk":false,"is_identity":false,"data_type":"money","data_length":null,"is_nullable":false,"computed_formula":null,"default_value":"CREATE DEFAULT dbo.GL_accsum_md_D AS 0","path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-67339","object_id":"column-67339","name":"mc (贷方金额)","name_without_path":"mc (贷方金额)","description":null,"is_pk":false,"is_identity":false,"data_type":"money","data_length":null,"is_nullable":false,"computed_formula":null,"default_value":"CREATE DEFAULT dbo.GL_accsum_mc_D AS 0","path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-67340","object_id":"column-67340","name":"cendd_c (金额期末方向)","name_without_path":"cendd_c (金额期末方向)","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"2","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-67341","object_id":"column-67341","name":"cendd_c_engl (金额期末方向英文)","name_without_path":"cendd_c_engl (金额期末方向英文)","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"2","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-67342","object_id":"column-67342","name":"me (金额期末)","name_without_path":"me (金额期末)","description":null,"is_pk":false,"is_identity":false,"data_type":"money","data_length":null,"is_nullable":false,"computed_formula":null,"default_value":"CREATE DEFAULT dbo.GL_accsum_me_D AS 0","path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-67343","object_id":"column-67343","name":"mb_f (外币期初)","name_without_path":"mb_f (外币期初)","description":null,"is_pk":false,"is_identity":false,"data_type":"money","data_length":null,"is_nullable":false,"computed_formula":null,"default_value":"CREATE DEFAULT dbo.GL_accsum_mb_f_D AS 0","path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-67344","object_id":"column-67344","name":"md_f (外币借方金额)","name_without_path":"md_f (外币借方金额)","description":null,"is_pk":false,"is_identity":false,"data_type":"money","data_length":null,"is_nullable":false,"computed_formula":null,"default_value":"CREATE DEFAULT dbo.GL_accsum_md_f_D AS 0","path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-67345","object_id":"column-67345","name":"mc_f (外币贷方金额)","name_without_path":"mc_f (外币贷方金额)","description":null,"is_pk":false,"is_identity":false,"data_type":"money","data_length":null,"is_nullable":false,"computed_formula":null,"default_value":"CREATE DEFAULT dbo.GL_accsum_mc_f_D AS 0","path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-67346","object_id":"column-67346","name":"me_f (外币期末)","name_without_path":"me_f (外币期末)","description":null,"is_pk":false,"is_identity":false,"data_type":"money","data_length":null,"is_nullable":false,"computed_formula":null,"default_value":"CREATE DEFAULT dbo.GL_accsum_me_f_D AS 0","path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-67347","object_id":"column-67347","name":"nb_s (数量期初)","name_without_path":"nb_s (数量期初)","description":null,"is_pk":false,"is_identity":false,"data_type":"float","data_length":null,"is_nullable":false,"computed_formula":null,"default_value":"CREATE DEFAULT dbo.GL_accsum_nb_s_D AS 0","path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-67348","object_id":"column-67348","name":"nd_s (数量借方)","name_without_path":"nd_s (数量借方)","description":null,"is_pk":false,"is_identity":false,"data_type":"float","data_length":null,"is_nullable":false,"computed_formula":null,"default_value":"CREATE DEFAULT dbo.GL_accsum_nd_s_D AS 0","path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-67349","object_id":"column-67349","name":"nc_s (数量贷方)","name_without_path":"nc_s (数量贷方)","description":null,"is_pk":false,"is_identity":false,"data_type":"float","data_length":null,"is_nullable":false,"computed_formula":null,"default_value":"CREATE DEFAULT dbo.GL_accsum_nc_s_D AS 0","path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-67350","object_id":"column-67350","name":"ne_s (数量期末)","name_without_path":"ne_s (数量期末)","description":null,"is_pk":false,"is_identity":false,"data_type":"float","data_length":null,"is_nullable":false,"computed_formula":null,"default_value":"CREATE DEFAULT dbo.GL_accsum_ne_s_D AS 0","path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-67351","object_id":"column-67351","name":"iyear (会计年度)","name_without_path":"iyear (会计年度)","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-67352","object_id":"column-67352","name":"iYPeriod (包括年度的会计期间)","name_without_path":"iYPeriod (包括年度的会计期间)","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]}],"relations":[],"unique_keys":[{"name":"aaaaaGL_accsum_PK","description":null,"is_pk":true,"is_user_defined":false,"columns":[{"path":null,"name_without_path":"i_id (自动编号)","name":"i_id (自动编号)"}],"custom_fields":{}},{"name":"i_id","description":null,"is_pk":false,"is_user_defined":false,"columns":[{"path":null,"name_without_path":"i_id (自动编号)","name":"i_id (自动编号)"}],"custom_fields":{}}],"triggers":[{"name":"gl_v_accsum_InsteadTrigger","description":null,"action":"After Insert ","script":"CREATE TRIGGER gl_v_accsum_InsteadTrigger on gl_accsum\r\n\t\tFOR INSERT\r\n\t\tAS\r\n\t\tBEGIN\r\n                    set nocount on\r\n                    if exists(select 1 from inserted where ISNULL(iyear,0)=0)\r\n                    begin\r\n\t\t        declare @iYear smallint\r\n\t\t        set @iYear =(select top 1 iyear from inserted)\r\n\t\t        if (@iYear is null or @iYear=0)\r\n\t\t  \t     set @iYear=(select top 1 iYear from U8LoginProcess a inner join master..sysprocesses b on a.cStation=b.hostname and a.cProcessId=b.hostprocess where b.spid=@@spid and (cSub_id='DP' ) )\r\n                        update a set a.iYear=@iYear,a.iYPeriod=cast(@iYear as nchar(4))+ case when a.iperiod>=10 then cast(a.iperiod as nchar(2)) else '0'+cast(a.iperiod as nchar(1)) end from gl_accsum a inner join inserted b on a.i_id=b.i_id\r\n\t\t    end\r\n                    else\r\n                        update a set a.iYPeriod=cast(a.iYear as nchar(4))+ case when a.iperiod>=10 then cast(a.iperiod as nchar(2)) else '0'+cast(a.iperiod as nchar(1)) end from gl_accsum a inner join inserted b on a.i_id=b.i_id \r\n                    set nocount off\r\n\t\tEND","custom_fields":{}}],"dependencies":null,"imported_at":"2024-07-15 13:47"};