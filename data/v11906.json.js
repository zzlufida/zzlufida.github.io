window.repositoryObject = {"columns_custom_fields":[],"relations_custom_fields":[],"triggers_custom_fields":[],"object_id":"v11906","name":"pu_v_preparestockbyarrclearst","subtype":"VIEW","is_user_defined":false,"description":null,"script":"CREATE view [dbo].[pu_v_preparestockbyarrclearst]\r\nas      \r\nselect\r\n igrouptype,       \r\n N'0101' as Subject,      \r\n Arr.id as DocumentId,      \r\n N'56' as DocumentType,      \r\n Arr.cBusType,N'' as cSource,Arr.ddate,      \r\n (case isnull(cbustype,N'') when N'代管采购' then isnull(Arr.cVenCode,N'') else N'' end) as cVMIVenCode,      \r\n (case isnull(Arr.iBillType,0)       \r\n  when 0 then      \r\n   (case when Arrs.TmpQty - isnull(Arrs.frefusequantity,0) > 0 then Arrs.TmpQty - isnull(Arrs.frefusequantity,0) else 0 end)      \r\n  when 1 then      \r\n   (case when Arrs.TmpQty < 0 then Arrs.TmpQty else 0 end)      \r\n end) as iQuantity,      \r\n (case isnull(Arr.iBillType,0)       \r\n  when 0 then      \r\n   (case when Arrs.TmpNum - isnull(Arrs.frefuseNum,0) > 0 then Arrs.TmpNum - isnull(Arrs.frefuseNum,0) else 0 end)      \r\n  when 1 then      \r\n   (case when Arrs.TmpNum < 0 then Arrs.TmpNum else 0 end)      \r\n end) as iNum,      \r\n isnull(Arrs.iQuantity,0) as iBillQuantity,      \r\n isnull(Arrs.iNum,0) as iBillNum,      \r\n Arrs.cWhCode,Arrs.cInvCode,0 as ItemId,      \r\n isnull(Arrs.cBatch,N'') as cBatch,      \r\n Arrs.autoid as DocumentDId,      \r\n isnull(Arrs.sotype,0) as DemandPlanType,isnull(sodid,'') as DemandPlanDId,      \r\n isnull(Arrs.cFree1,N'') as cfree1,      \r\n isnull(Arrs.cFree2,N'') as cfree2,isnull(Arrs.cFree3,N'') as cfree3,isnull(Arrs.cFree4,N'') as cfree4,      \r\n isnull(Arrs.cFree5,N'') as cfree5,isnull(Arrs.cFree6,N'') as cfree6,isnull(Arrs.cFree7,N'') as cfree7,      \r\n isnull(Arrs.cFree8,N'') as cfree8,isnull(Arrs.cFree9,N'') as cfree9,isnull(Arrs.cFree10,N'') as cfree10,      \r\n Arrs.dpdate as dMDate,Arrs.dVDate,Arrs.cmassunit as imassunit,Arrs.imassdate as imassday,arrs.iexpiratdatecalcu,arrs.cexpirationdate,arrs.dexpirationdate,\r\n Arr.ccode,Arrs.cfactorycode,factory.cfactoryname \r\n from pu_arrivalvouch Arr \r\n inner join      \r\n (select cfactorycode,id,cbcloser,iQuantity,iNum,frefusequantity,frefuseNum,cWhCode,cBatch,cInvCode,autoid,sotype,sodid,dpdate,dVDate,cmassunit,imassdate,cFree1,cFree2,cFree3,cFree4,cFree5,cFree6,cFree7,cFree8,cFree9,cFree10,iexpiratdatecalcu,cexpirationdate,dexpirationdate,      \r\n (    \r\n   isnull(arrsori.iquantity,0) - isnull(arrsori.fvalidinquan,0) - isnull(arrsori.finvalidinquan,0) - isnull(QmArrCheckSrv.fauditbreakqty,0)     \r\n ) as TmpQty,      \r\n (    \r\n   isnull(arrsori.inum,0) - isnull(arrsori.fvalidinnum,0) - isnull(arrsori.finvalidinnum,0) - isnull(QmArrCheckSrv.fauditbreaknum,0)       \r\n ) as TmpNum from  pu_arrivalvouchs arrsori \r\nleft join QmArrCheckSrv on QmArrCheckSrv.sourceautoid=arrsori.autoid  \r\n) Arrs on Arr.id=Arrs.id \r\ninner join Inventory Inv on Inv.cInvCode=Arrs.cInvCode\r\nleft join factory on Arrs.cfactorycode = factory.cfactorycode       \r\n where ((isnull(Arr.iBillType,0)=0 or isnull(Arr.iBillType,0)=1)       \r\n  and isnull(Arrs.cbcloser,N'')=N''       \r\n  and isnull(Arrs.cWhCode,N'')<>N''       \r\n  and (isnull(Inv.bInvBatch,0)=0 or (isnull(Inv.bInvBatch,0)=1 and isnull(Arrs.cBatch,N'')<>N''))  )   \r\nor\r\n\r\n(((isnull(Arr.iBillType,0)=0 or isnull(Arr.iBillType,0)=1) and isnull(Arrs.cbcloser,N'')=N'')   \r\n  and (isnull(Arrs.cWhCode,N'')=N'' or ((isnull(Inv.bInvBatch,0)=1 and isnull(Arrs.cBatch,N'')=N'')) ) )","summary":[{"field":"Documentation","value":{"_type":"link","name":"U8V16.5数据字典","id":"d6"}},{"field":"Schema","value":"dbo"},{"field":"Name","value":"pu_v_preparestockbyarrclearst"},{"field":"Type","value":"View"}],"columns":[{"id":"column-259679","object_id":"column-259679","name":"igrouptype","name_without_path":"igrouptype","description":null,"is_pk":false,"is_identity":false,"data_type":"tinyint","data_length":null,"is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-259680","object_id":"column-259680","name":"Subject","name_without_path":"Subject","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"4","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-259681","object_id":"column-259681","name":"DocumentId","name_without_path":"DocumentId","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-259682","object_id":"column-259682","name":"DocumentType","name_without_path":"DocumentType","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"2","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-259683","object_id":"column-259683","name":"cBusType","name_without_path":"cBusType","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"8","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-259684","object_id":"column-259684","name":"cSource","name_without_path":"cSource","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"1","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-259685","object_id":"column-259685","name":"ddate","name_without_path":"ddate","description":null,"is_pk":false,"is_identity":false,"data_type":"datetime","data_length":null,"is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-259686","object_id":"column-259686","name":"cVMIVenCode","name_without_path":"cVMIVenCode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-259687","object_id":"column-259687","name":"iQuantity","name_without_path":"iQuantity","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"38, 6","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-259688","object_id":"column-259688","name":"iNum","name_without_path":"iNum","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"38, 6","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-259689","object_id":"column-259689","name":"iBillQuantity","name_without_path":"iBillQuantity","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"20, 6","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-259690","object_id":"column-259690","name":"iBillNum","name_without_path":"iBillNum","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"20, 6","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-259691","object_id":"column-259691","name":"cWhCode","name_without_path":"cWhCode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"10","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-259692","object_id":"column-259692","name":"cInvCode","name_without_path":"cInvCode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"60","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-259693","object_id":"column-259693","name":"ItemId","name_without_path":"ItemId","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-259694","object_id":"column-259694","name":"cBatch","name_without_path":"cBatch","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"60","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-259695","object_id":"column-259695","name":"DocumentDId","name_without_path":"DocumentDId","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-259696","object_id":"column-259696","name":"DemandPlanType","name_without_path":"DemandPlanType","description":null,"is_pk":false,"is_identity":false,"data_type":"tinyint","data_length":null,"is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-259697","object_id":"column-259697","name":"DemandPlanDId","name_without_path":"DemandPlanDId","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"50","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-259698","object_id":"column-259698","name":"cfree1","name_without_path":"cfree1","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-259699","object_id":"column-259699","name":"cfree2","name_without_path":"cfree2","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-259700","object_id":"column-259700","name":"cfree3","name_without_path":"cfree3","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-259701","object_id":"column-259701","name":"cfree4","name_without_path":"cfree4","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-259702","object_id":"column-259702","name":"cfree5","name_without_path":"cfree5","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-259703","object_id":"column-259703","name":"cfree6","name_without_path":"cfree6","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-259704","object_id":"column-259704","name":"cfree7","name_without_path":"cfree7","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-259705","object_id":"column-259705","name":"cfree8","name_without_path":"cfree8","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-259706","object_id":"column-259706","name":"cfree9","name_without_path":"cfree9","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-259707","object_id":"column-259707","name":"cfree10","name_without_path":"cfree10","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-259708","object_id":"column-259708","name":"dMDate","name_without_path":"dMDate","description":null,"is_pk":false,"is_identity":false,"data_type":"datetime","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-259709","object_id":"column-259709","name":"dVDate","name_without_path":"dVDate","description":null,"is_pk":false,"is_identity":false,"data_type":"datetime","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-259710","object_id":"column-259710","name":"imassunit","name_without_path":"imassunit","description":null,"is_pk":false,"is_identity":false,"data_type":"tinyint","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-259711","object_id":"column-259711","name":"imassday","name_without_path":"imassday","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-259712","object_id":"column-259712","name":"iexpiratdatecalcu","name_without_path":"iexpiratdatecalcu","description":null,"is_pk":false,"is_identity":false,"data_type":"smallint","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-259713","object_id":"column-259713","name":"cexpirationdate","name_without_path":"cexpirationdate","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-259714","object_id":"column-259714","name":"dexpirationdate","name_without_path":"dexpirationdate","description":null,"is_pk":false,"is_identity":false,"data_type":"datetime","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-259715","object_id":"column-259715","name":"ccode","name_without_path":"ccode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"30","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-259716","object_id":"column-259716","name":"cfactorycode","name_without_path":"cfactorycode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"50","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-259717","object_id":"column-259717","name":"cfactoryname","name_without_path":"cfactoryname","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"255","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]}],"relations":[],"triggers":[],"unique_keys":[],"dependencies":null,"imported_at":"2024-07-15 13:47"};