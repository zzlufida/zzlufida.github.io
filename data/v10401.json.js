window.repositoryObject = {"columns_custom_fields":[],"relations_custom_fields":[],"triggers_custom_fields":[],"object_id":"v10401","name":"CRM_AP_DETAIL","subtype":"VIEW","is_user_defined":false,"description":null,"script":"--VIEW CRM_AP_Detail    \r\n--///////////应收应付明细账/////////////////////////    \r\nCREATE VIEW CRM_AP_Detail as    \r\n\tSELECT    \r\n\t--标识    \r\n\tauto_id as DetailID,    \r\n\t--客户编码（单位编码）    \r\n\tAr_Detail.cDwCode AS cCusCode,    \r\n\t--单据日期    \r\n\tAr_Detail.dRegDate  AS dDDate,    \r\n\t--部门编码    \r\n\tAr_Detail.cDeptCode AS cDepCode,    \r\n\t--业务员编码    \r\n\tAr_Detail.cPerson AS cPersonCode,    \r\n\t--存货名称    \r\n\tAr_Detail.cInvCode,    \r\n\t--存货数量（贷-借）    \r\n\t(Ar_Detail.iCAmount_s-Ar_Detail.iDAmount_s) AS iInvQuantity,    \r\n\t--存货金额本币（贷-借）    \r\n\t(Ar_Detail.iCAmount-Ar_Detail.iDAmount) AS mInvNatMoney,    \r\n\t--录入人    \r\n\tAp_CloseBill.cOperator,    \r\n\t--处理方式    \r\n\tAr_Detail.cProcStyle    \r\n\tFROM Ar_Detail     \r\n\tleft join Ap_CloseBill     \r\n\tOn Ar_Detail.cVouchType=Ap_CloseBill.cVouchType And Ar_Detail.cVouchID=Ap_CloseBill.cVouchID And Ar_Detail.cFlag=Ap_CloseBill.cFlag    \r\n\t--核销条件（有待确认）    \r\n\t-- 2005.07.27 kzy Add    \r\n\tWHERE cProcStyle<>N'9P' and cProcStyle<>N'9I' and     \r\n\tAr_Detail.cFlag=N'AR' AND iFlag<3 AND (cProcStyle<>Ar_Detail.cCoVouchType or Ar_Detail.cCoVouchType like N'4%') And cProcStyle<>N'XJ'    \r\n\tUnion  all  \r\n\tSELECT    \r\n\t--标识    \r\n\t0 as DetailID,    \r\n\t--客户编码（单位编码）    \r\n\tAp_XjDetail.cDwCode AS cCusCode,    \r\n\t--单据日期    \r\n\tAp_XjDetail.dVouchDate  AS dDDate,    \r\n\t--部门编码    \r\n\tAp_CloseBill.cDeptCode AS cDepCode,    \r\n\t--业务员编码    \r\n\tAp_CloseBill.cPerson AS cPersonCode,    \r\n\t--存货名称    \r\n\tAp_XjDetail.cInvCode,    \r\n\t--存货数量（贷-借）    \r\n\tAp_XjDetail.iAmount_s AS iInvQuantity,    \r\n\t--存货金额本币（贷-借）    \r\n\tAp_XjDetail.iAmount AS mInvNatMoney,    \r\n\t--录入人    \r\n\tAp_CloseBill.cOperator,    \r\n\t--处理方式    \r\n\tN'XJ' as cProcStyle    \r\n\tFROM Ap_XjDetail     \r\n\tleft join Ap_CloseBill     \r\n\tOn Ap_XjDetail.cVouchType=Ap_CloseBill.cVouchType And Ap_XjDetail.cVouchID=Ap_CloseBill.cVouchID And Ap_XjDetail.cFlag=Ap_CloseBill.cFlag    \r\n\t--核销条件（有待确认）    \r\n\tWHERE     \r\n\tAp_XjDetail.cFlag=N'AR'     \r\n\tUnion   all  \r\n\t--标识    \r\n\tSelect id as DetailID,    \r\n\t--客户编码（单位编码）    \r\n\tcCusVen AS cCusCode,    \r\n\t--单据日期    \r\n\tdVouchDate AS dDDate,    \r\n\t--部门编码    \r\n\tcDepCode AS cDepCode,    \r\n\t--业务员编码    \r\n\tcPersonCode AS cPersonCode,    \r\n\t--存货名称    \r\n\tNull as cInvCode,    \r\n\t--数量    \r\n\tcase when cvouchtype=N'48' then iAmt_s else -iAmt_s end AS iInvQuantity,    \r\n\t--金额本币    \r\n\tcase when cvouchtype=N'48' then iAmt else -iAmt end AS mInvNatMoney,    \r\n\t--录入人    \r\n\tAp_CloseBill.cOperator,    \r\n\t--处理方式    \r\n\tAp_CloseBill.cVouchType as cProcStyle    \r\n\tFrom Ap_CloseBill inner join Ap_CloseBills On Ap_CloseBill.iid=Ap_closeBills.iid    \r\n\tWhere cFlag=N'AR' and cCheckMan is Null and iType<2 and ccancelno is null    \r\n\t--////////////////////////////////////////////////////////////////////////////////////","summary":[{"field":"Documentation","value":{"_type":"link","name":"U8V16.5数据字典","id":"d6"}},{"field":"Schema","value":"dbo"},{"field":"Name","value":"CRM_AP_DETAIL"},{"field":"Type","value":"View"}],"columns":[{"id":"column-187954","object_id":"column-187954","name":"DetailID","name_without_path":"DetailID","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-187955","object_id":"column-187955","name":"cCusCode","name_without_path":"cCusCode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-187956","object_id":"column-187956","name":"dDDate","name_without_path":"dDDate","description":null,"is_pk":false,"is_identity":false,"data_type":"datetime","data_length":null,"is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-187957","object_id":"column-187957","name":"cDepCode","name_without_path":"cDepCode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"12","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-187958","object_id":"column-187958","name":"cPersonCode","name_without_path":"cPersonCode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-187959","object_id":"column-187959","name":"cInvCode","name_without_path":"cInvCode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"60","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-187960","object_id":"column-187960","name":"iInvQuantity","name_without_path":"iInvQuantity","description":null,"is_pk":false,"is_identity":false,"data_type":"float","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-187961","object_id":"column-187961","name":"mInvNatMoney","name_without_path":"mInvNatMoney","description":null,"is_pk":false,"is_identity":false,"data_type":"money","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-187962","object_id":"column-187962","name":"cOperator","name_without_path":"cOperator","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-187963","object_id":"column-187963","name":"cProcStyle","name_without_path":"cProcStyle","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"10","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]}],"relations":[],"triggers":[],"unique_keys":[],"dependencies":null,"imported_at":"2024-07-15 13:47"};