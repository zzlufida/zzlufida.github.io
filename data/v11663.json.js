window.repositoryObject = {"columns_custom_fields":[],"relations_custom_fields":[],"triggers_custom_fields":[],"object_id":"v11663","name":"NE_BudgetVouchList_View","subtype":"VIEW","is_user_defined":false,"description":null,"script":"create view [dbo].[NE_BudgetVouchList_View] as  \r\nselect tempVouch.flag,NE_OperationType.Code as VouchType,    \r\ncase when tempVouch.flag='3' then typeLang.EnumName    \r\n else NE_OperationType.Name end as strtypename ,    \r\ntempVouch.VouchCode as VouchID,    \r\ntempVouch.VouchDate as dtloandate,tempVouch.ExpenseDate,department.cdepname as strdepartname,tempVouch.AgentID as strloanname1,strloanname2,    \r\nbg_v_ctrlitem.cItemName as strbuditemname,tempVouch.Currency as strbill,tempVouch.dblmoney as dblvouchmoney,    \r\ntempVouch.Used,tempVouch.PersonID as strpersonid,tempVouch.AuditorID,tempVouch.AutoID,    \r\ntempVouch.VouchID as guid,tempVouch.DeptID as strdepartid,tempVouch.ItemClassID,tempVouch.ItemID,    \r\ntempVouch.BudgetItemID,    \r\ntempVouch.Port1,tempVouch.Port1Value,tempVouch.Port2,tempVouch.Port2Value,    \r\ntempVouch.Port3,tempVouch.Port3Value,tempVouch.Port4,tempVouch.Port4Value,    \r\ntempVouch.Port5,tempVouch.Port5Value,tempVouch.Port6,tempVouch.Port6Value,\r\nNE_OperationType.MenuID AS MenuID,tempVouch.BudgetDate,tempVouch.dblvouchmoney as dblmoney,\r\ntempVouch.NontaxAmountSub,tempVouch.LocalNontaxAmountSub\r\nfrom     \r\n(    \r\n   SELECT '1' as flag,1 as AutoID,vouch.ID as VouchID,subVouch.ID as subVouchID,vouch.OperationTypeCode,      \r\n       (case when isnull(IsBegin ,'') = '1' then vouch.Code + '*' else vouch.Code end) as VouchCode,      \r\n       vouch.LoanDate as VouchDate,vouch.LoanDate as ExpenseDate,vouch.Currency,\r\n\t   (subVouch.LocalMoney-isnull(returnInfo.ReturnLocalMoney,0)) as dblmoney,     \r\n       (    \r\n           (case when isnull(subVouch.FactMoney,0) =0 then subVouch.PlanMoney else subVouch.FactMoney end) -    \r\n           isnull(returnInfo.ReturnMoney,0)    \r\n       ) as dblvouchmoney,vouch.AgentID,  \r\n       case isnull(subVouch.Memo,'')  when '' then vouch.Used else subVouch.Memo end as Used,      \r\n       vouch.LoanPersonID as PersonID,'' as strloanname2,subVouch.SpreadDeptID as DeptID,vouch.AuditorID,vouch.ItemClassID,vouch.ItemID,      \r\n       subVouch.BudgetItemID as BudgetItemID,\r\n\t   subVouch.Port1 as Port1,subVouch.Port1Value as Port1Value,      \r\n\t   subVouch.Port2 as Port2,subVouch.Port2Value as Port2Value,\r\n\t   subVouch.Port3 as Port3,subVouch.Port3Value as Port3Value,\r\n\t   subVouch.Port4 as Port4,subVouch.Port4Value as Port4Value,\r\n\t   subVouch.Port5 as Port5,subVouch.Port5Value as Port5Value,\r\n\t   subVouch.Port6 as Port6,subVouch.Port6Value as Port6Value,costApply.BudgetDate as BudgetDate,   \r\n       (    \r\n           (case when isnull(subVouch.FactMoney,0) =0 then subVouch.PlanMoney else subVouch.FactMoney end) -    \r\n           isnull(returnInfo.ReturnMoney,0)    \r\n       )  AS NontaxAmountSub,\r\n       (subVouch.LocalMoney-isnull(returnInfo.ReturnLocalMoney,0)) AS LocalNontaxAmountSub\r\n    From NE_LoanVouch as vouch  with(nolock)\r\n\tinner Join NE_LoanVouch_Sub as subVouch  with(nolock)\r\n\t\ton vouch.ID=subVouch.LoanVouchID    \r\n    left join     \r\n\t(    \r\n       select sum(isnull(returnInfo.ReturnMoney,0)) as ReturnMoney,sum(isnull(returnInfo.LocalMoney,0)) as ReturnLocalMoney,    \r\n           returnInfo.LoanVouchID,returnInfo.LoanVouchSubID    \r\n       from NE_ReturnLoanInfo as returnInfo with(nolock)\r\n       inner join NE_ReturnVouch as vouch with(nolock)\r\n           on returnInfo.ReturnVouchID=vouch.ID     \r\n       where vouch.BudgetState=1    \r\n       group by returnInfo.LoanVouchID,returnInfo.LoanVouchSubID    \r\n    ) as returnInfo       \r\n       on subVouch.LoanVouchID=returnInfo.LoanVouchID and subVouch.ID=returnInfo.LoanVouchSubID    \r\n\tleft join NE_CostApply as costApply with(nolock)\r\n\t\ton vouch.CostApplyID=costApply.Id\r\n    Where vouch.BudgetState = 1     \r\n\tunion all    \r\n        SELECT '2' as flag,1 as AutoID,vouch.ID as VouchID,subVouch.ID as subVouchID,vouch.OperationTypeCode,    \r\n\t  (case when isnull(IsBegin ,'') = '1' then vouch.Code + '*' else vouch.Code end) as VouchCode,    \r\n\t  \r\n\t  --vouch.ExpenseDate as VouchDate, vouch.ExpenseDate as ExpenseDate,vouch.Currency,  \r\n\t  --申请单推报销单，预算扣减日期取申请单预计业务日期\r\n\t  vouch.ExpenseDate as VouchDate, \r\n\t  --(case when isnull(costApply.BudgetDate,'')='' then vouch.ExpenseDate\r\n\t  --else costApply.BudgetDate end) as ExpenseDate,\r\n\t  vouch.ExpenseDate as ExpenseDate,\r\n\t  vouch.Currency,\r\n\t  \r\n\t  case when isnull(subVouch.IsAutoCreate,0)=1 then subVouch.LocalMoney  \r\n\t  else  \r\n\t   case when isnull(subVouch.CostItemID,'')=''   \r\n\t   then   \r\n\t\tcase when NE_OperationType.TypeID=2 then subVouch.LocalMoney else 0-subVouch.LocalMoney end   \r\n\t\telse   \r\n\t\tcase when (  \r\n\t\t   (NE_OperationType.TypeID=1 and ExpenseItem.Direction=1) \r\n\t\t   or (NE_OperationType.TypeID=2 and ExpenseItem.Direction=2)  \r\n\t\t\t)  \r\n\t\tthen  subVouch.LocalMoney  else 0 - subVouch.LocalMoney end  \r\n\t   end  \r\n\t  end as dblmoney,\r\n\t  case when isnull(subVouch.IsAutoCreate,0)=1 then subVouch.ExpenseMoney  \r\n\t  else  \r\n\t   case when isnull(subVouch.CostItemID,'')=''   \r\n\t   then   \r\n\t\tcase when NE_OperationType.TypeID=2 then subVouch.ExpenseMoney else 0-subVouch.ExpenseMoney end   \r\n\t   else   \r\n\t\tcase when (  \r\n\t\t   (NE_OperationType.TypeID=1 and ExpenseItem.Direction=1)   \r\n\t\t   or (NE_OperationType.TypeID=2 and ExpenseItem.Direction=2)  \r\n\t\t\t)  \r\n\t\tthen  subVouch.ExpenseMoney  else 0 - subVouch.ExpenseMoney end  \r\n\t   end  \r\n\t  end as dblvouchmoney,vouch.AgentID,  \r\n\t  case isnull(subVouch.Memo,'')  when '' then vouch.Used else subVouch.Memo end as Used,    \r\n\t  vouch.ExpenserID as PersonID,'' as strloanname2,CASE WHEN ISNULL(subVouch.SpreadDeptID,'')='' THEN subVouch.DeptID else subVouch.SpreadDeptID END as DeptID,vouch.AuditorID,vouch.ItemClassID,vouch.ItemID,    \r\n\t\tsubVouch.BudgetItemID as BudgetItemID,\r\n\t\tsubVouch.Port1 as Port1,subVouch.Port1Value as Port1Value,      \r\n\t\tsubVouch.Port2 as Port2,subVouch.Port2Value as Port2Value,\r\n\t\tsubVouch.Port3 as Port3,subVouch.Port3Value as Port3Value,\r\n\t\tsubVouch.Port4 as Port4,subVouch.Port4Value as Port4Value,\r\n\t\tsubVouch.Port5 as Port5,subVouch.Port5Value as Port5Value,\r\n\t\tsubVouch.Port6 as Port6,subVouch.Port6Value as Port6Value,\r\n\t\t--case isnull(vouch.CostApplyID,'00000000-0000-0000-0000-000000000000') \r\n\t\t--case isnull(costApply.id,'00000000-0000-0000-0000-000000000000') \r\n\t\t--when '00000000-0000-0000-0000-000000000000'\tthen null\r\n\t\t--else\r\n\t\t--\tcase isnull(subVouch.CostApplySubID,'00000000-0000-0000-0000-000000000000') \r\n\t\t--\twhen '00000000-0000-0000-0000-000000000000' then vouch.ExpenseDate \r\n\t\t--\telse costApply.BudgetDate \r\n\t\t--\tend \r\n\t\t--end\r\n\t\t--as BudgetDate  \r\n\t\t--subVouch.vouchdate AS BudgetDate\r\n\t\t(case when isnull(subVouch.vouchdate,'')='' then vouch.ExpenseDate\r\n\t  else subVouch.vouchdate end) as BudgetDate,\r\n\tcase when isnull(subVouch.IsAutoCreate,0)=1 then subVouch.ExpenseMoney  \r\n\t  else  \r\n\t   case when isnull(subVouch.CostItemID,'')=''   \r\n\t   then   \r\n\t\tcase when NE_OperationType.TypeID=2 then subVouch.NontaxAmountSub else 0-subVouch.NontaxAmountSub end   \r\n\t   else   \r\n\t\tcase when (  \r\n\t\t   (NE_OperationType.TypeID=1 and ExpenseItem.Direction=1)   \r\n\t\t   or (NE_OperationType.TypeID=2 and ExpenseItem.Direction=2)  \r\n\t\t\t)  \r\n\t\tthen  CASE WHEN subVouch.NontaxAmountSub=0 then subVouch.ExpenseMoney ELSE subVouch.NontaxAmountSub END\r\n\t\t else 0 - CASE WHEN subVouch.NontaxAmountSub=0 then subVouch.ExpenseMoney ELSE subVouch.NontaxAmountSub END end  \r\n\t   end  \r\n\t  end as NontaxAmountSub,\t  \r\n\t \r\n\t  case when isnull(subVouch.IsAutoCreate,0)=1 then subVouch.LocalNontaxAmountSub  \r\n\t  else  \r\n\t   case when isnull(subVouch.CostItemID,'')=''   \r\n\t   then   \r\n\t\tcase when NE_OperationType.TypeID=2 then subVouch.LocalNontaxAmountSub else 0-subVouch.LocalNontaxAmountSub end   \r\n\t\telse   \r\n\t\tcase when (  \r\n\t\t   (NE_OperationType.TypeID=1 and ExpenseItem.Direction=1) \r\n\t\t   or (NE_OperationType.TypeID=2 and ExpenseItem.Direction=2)  \r\n\t\t\t)  \r\n\t\tthen  CASE WHEN subVouch.LocalNontaxAmountSub=0 then subVouch.LocalMoney ELSE subVouch.LocalNontaxAmountSub END\r\n\t\t  else 0 - CASE WHEN subVouch.LocalNontaxAmountSub=0 then subVouch.LocalMoney ELSE subVouch.LocalNontaxAmountSub END end  \r\n\t   end  \r\n\t  end as LocalNontaxAmountSub\r\n\t  \r\n\t\tFrom NE_ExpenVouch as vouch  with(nolock)\r\n\t\t--inner Join NE_ExpenseVouch_Sub as subVouch     \r\n\t\tinner Join (\r\n\t\t--未超申请蓝字\r\n\t\tselect ID,ExpenseVouchID,CostApplySubID,IsAutoCreate,CostItemID,\r\n\t\tLocalMoney,ExpenseMoney,Memo,SpreadDeptID,DeptID,\r\n\t\tBudgetItemID,Port1,Port1Value,Port2,Port2Value,Port3,Port3Value,Port4,Port4Value,Port5,Port5Value,Port6,Port6Value\r\n\t\t--,BudgetDate AS vouchdate\r\n\t\t,CASE WHEN isnull(CostApplyID,'00000000-0000-0000-0000-000000000000') <> '00000000-0000-0000-0000-000000000000' \r\n            AND isnull(CostApplySubID,'00000000-0000-0000-0000-000000000000') = '00000000-0000-0000-0000-000000000000' then  a.ExpenseDate \r\n            ELSE a.BudgetDate END AS vouchdate\t\r\n\t\t,NontaxAmountSub,LocalNontaxAmountSub\r\n\t\tfrom NE_ExpenseVouch_Sub with(nolock)\r\n\t\tLEFT JOIN (SELECT BudgetDate,ExpenseDate,id AS vouchid,CostApplyID from  NE_ExpenVouch) AS a ON NE_ExpenseVouch_Sub.ExpenseVouchID=a.vouchid\r\n\t\twhere isnull(IsOverApply,0) = 0 \r\n\t\tand isnull(RedVouchSubID,'00000000-0000-0000-0000-000000000000') = '00000000-0000-0000-0000-000000000000'\r\n\t\tunion \r\n\t\t--未超申请红字\r\n\t\tselect red.ID,red.ExpenseVouchID,blue.CostApplySubID,red.IsAutoCreate,red.CostItemID,\r\n\t\tred.LocalMoney,red.ExpenseMoney,red.Memo,red.SpreadDeptID,red.DeptID,\r\n\t\tred.BudgetItemID,red.Port1,red.Port1Value,red.Port2,red.Port2Value,red.Port3,red.Port3Value,red.Port4,red.Port4Value,red.Port5,red.Port5Value,red.Port6,red.Port6Value\r\n\t\t--,BudgetDate AS vouchdate\r\n\t\t,CASE WHEN isnull(CostApplyID,'00000000-0000-0000-0000-000000000000') <> '00000000-0000-0000-0000-000000000000'   \r\n            AND isnull(blue.CostApplySubID,'00000000-0000-0000-0000-000000000000') = '00000000-0000-0000-0000-000000000000' then  a.ExpenseDate   \r\n            ELSE a.BudgetDate END AS vouchdate \r\n\t\t,red.NontaxAmountSub,red.LocalNontaxAmountSub\r\n\t\tfrom NE_ExpenseVouch_Sub as red with(nolock)\r\n\t\tleft join NE_ExpenseVouch_Sub as blue with(nolock) on red.RedVouchSubID = blue.id\r\n\t\t\tLEFT JOIN (SELECT BudgetDate,ExpenseDate,id AS vouchid,CostApplyID from  NE_ExpenVouch) AS a ON blue.ExpenseVouchID=a.vouchid\r\n\t\twhere isnull(blue.IsOverApply,0) = 0 \r\n\t\tand isnull(red.RedVouchSubID,'00000000-0000-0000-0000-000000000000') <> '00000000-0000-0000-0000-000000000000'\r\n\t\tunion \r\n\t\t--蓝字超申请行的超申请部分\r\n\t\tselect ID,ExpenseVouchID,null as CostApplySubID,IsAutoCreate,CostItemID,\r\n\t\tisnull(OverApplySubLocalMoneyPure,0) as LocalMoney,isnull(OverApplySubMoneyPure,0) as ExpenseMoney,Memo,SpreadDeptID,DeptID,\r\n\t\tBudgetItemID,Port1,Port1Value,Port2,Port2Value,Port3,Port3Value,Port4,Port4Value,Port5,Port5Value,Port6,Port6Value\r\n\t\t,ExpenseDate AS vouchdate\r\n\t\t,OverNontaxAmountSub as NontaxAmountSub,OverLocalNontaxAmountSub as LocalNontaxAmountSub \r\n\t\tfrom NE_ExpenseVouch_Sub with(nolock)\r\n\t\t\tLEFT JOIN (SELECT BudgetDate,ExpenseDate,id AS vouchid from  NE_ExpenVouch) AS a ON NE_ExpenseVouch_Sub.ExpenseVouchID=a.vouchid\r\n\t\twhere isnull(IsOverApply,0) = 1  \r\n\t\tand isnull(RedVouchSubID,'00000000-0000-0000-0000-000000000000') = '00000000-0000-0000-0000-000000000000'\r\n\t\tunion \r\n\t\t--蓝字超申请行的不超申请部分\r\n\t\tselect ID,ExpenseVouchID,CostApplySubID,IsAutoCreate,CostItemID,\r\n\t\tLocalMoney - isnull(OverApplySubLocalMoneyPure,0) as LocalMoney,ExpenseMoney - isnull(OverApplySubMoneyPure,0) as ExpenseMoney,Memo,SpreadDeptID,DeptID,\r\n\t\tBudgetItemID,Port1,Port1Value,Port2,Port2Value,Port3,Port3Value,Port4,Port4Value,Port5,Port5Value,Port6,Port6Value\r\n\t\t,BudgetDate AS vouchdate\r\n\t\t,NontaxAmountSub -isnull(OverNontaxAmountSub,0) AS NontaxAmountSub ,LocalNontaxAmountSub - isnull(OverLocalNontaxAmountSub,0) AS LocalNontaxAmountSub  \r\n\t\tfrom NE_ExpenseVouch_Sub with(nolock)\r\n\t\t\tLEFT JOIN (SELECT BudgetDate,ExpenseDate,id AS vouchid from  NE_ExpenVouch) AS a ON NE_ExpenseVouch_Sub.ExpenseVouchID=a.vouchid\r\n\t\twhere isnull(IsOverApply,0) = 1 and LocalMoney <> isnull(OverApplySubLocalMoneyPure,0) \r\n\t\t and isnull(RedVouchSubID,'00000000-0000-0000-0000-000000000000') = '00000000-0000-0000-0000-000000000000'\r\n\t\tunion\r\n\t\t--红字超申请行的超申请部分\r\n\t\tselect red.ID,red.ExpenseVouchID,null as CostApplySubID,red.IsAutoCreate,red.CostItemID,\r\n\t\t-isnull(blue.OverApplySubLocalMoneyPure,0) as LocalMoney,-isnull(blue.OverApplySubMoneyPure,0) as ExpenseMoney,red.Memo,red.SpreadDeptID,red.DeptID,\r\n\t\tred.BudgetItemID,red.Port1,red.Port1Value,red.Port2,red.Port2Value,red.Port3,red.Port3Value,red.Port4,red.Port4Value,red.Port5,red.Port5Value,red.Port6,red.Port6Value\r\n\t\t,ExpenseDate AS vouchdate\r\n\t\t,-blue.OverNontaxAmountSub AS NontaxAmountSub,-blue.OverLocalNontaxAmountSub AS LocalNontaxAmountSub\r\n\t\tfrom NE_ExpenseVouch_Sub red with(nolock)\r\n\t\t\tLEFT JOIN (SELECT BudgetDate,ExpenseDate,id AS vouchid from  NE_ExpenVouch) AS a ON red.ExpenseVouchID=a.vouchid\r\n\t\tleft join NE_ExpenseVouch_Sub as blue with(nolock) on red.RedVouchSubID = blue.id\r\n\t\twhere isnull(blue.IsOverApply,0) = 1  \r\n\t\t and isnull(red.RedVouchSubID,'00000000-0000-0000-0000-000000000000') <> '00000000-0000-0000-0000-000000000000'\r\n\t\tunion \r\n\t\t--红字超申请行的不超申请部分\r\n\t\tselect red.ID,red.ExpenseVouchID,blue.CostApplySubID,red.IsAutoCreate,red.CostItemID,\r\n\t\tred.LocalMoney + isnull(blue.OverApplySubLocalMoneyPure,0) as LocalMoney,red.ExpenseMoney + isnull(blue.OverApplySubMoneyPure,0) as ExpenseMoney,red.Memo,red.SpreadDeptID,red.DeptID,\r\n\t\tred.BudgetItemID,red.Port1,red.Port1Value,red.Port2,red.Port2Value,red.Port3,red.Port3Value,red.Port4,red.Port4Value,red.Port5,red.Port5Value,red.Port6,red.Port6Value\r\n\t\t,BudgetDate AS vouchdate\r\n\t\t,red.NontaxAmountSub  + ISNULL(blue.OverNontaxAmountSub,0) AS NontaxAmountSub,\r\n\t\tred.LocalNontaxAmountSub + ISNULL(blue.OverLocalNontaxAmountSub,0) AS LocalNontaxAmountSub\r\n\t\tfrom NE_ExpenseVouch_Sub as red with(nolock)\r\n\t\tleft join NE_ExpenseVouch_Sub as blue on isnull(red.RedVouchSubID,'00000000-0000-0000-0000-000000000000')= blue.id\r\n\t\t\tLEFT JOIN (SELECT BudgetDate,ExpenseDate,id AS vouchid from  NE_ExpenVouch) AS a ON red.ExpenseVouchID=a.vouchid\r\n\t\twhere isnull(blue.IsOverApply,0) = 1 and -red.LocalMoney <> isnull(red.OverApplySubMoneyPure,0) \r\n\t\t and isnull(red.RedVouchSubID,'00000000-0000-0000-0000-000000000000') <> '00000000-0000-0000-0000-000000000000'\r\n\t\t) as subVouch     \r\n\t\t\t on vouch.ID=subVouch.ExpenseVouchID   \r\n\t\tinner join NE_OperationType with(nolock)\r\n\t  on vouch.OperationTypeCode=NE_OperationType.Code   \r\n\t left join ExpenseItem with(nolock)\r\n\t  on subVouch.CostItemID=ExpenseItem.cExpCode  \r\n\t  left join NE_CostApply_sub as costApplysub with(nolock)\r\n\t\t\ton subVouch.CostApplySubID=costApplysub.Id\r\n\t  left join NE_CostApply as costApply with(nolock)\r\n\t\t\ton costApplysub.CostApplyID=costApply.Id\r\n\t\tWhere vouch.BudgetState = 1 and isnull(subVouch.BudgetItemID,'')<>''\r\n\t\t\tand (isnull(subVouch.IsAutoCreate,0)=0 \r\n\t\t\t\tor \r\n\t\t\t\t(isnull(subVouch.IsAutoCreate,0)=1 and vouch.id not in\r\n\t\t\t\t\t(   --老版本的还款单需要排除\r\n\r\n\t\t\t\t\t\tselect ExpenseVouchID from NE_ExpenseLoanInfo as expenLoan with(nolock)\r\n\r\n\t\t\t\t\t\t\tinner join NE_ExpenVouch as expen with(nolock) on expenLoan.ExpenseVouchID=expen.Id\r\n\r\n\t\t\t\t\t\t\tinner join NE_OperationType as operation with(nolock) on expen.OperationTypeCode=operation.Code and operation.TypeID=1\r\n\r\n\t\t\t\t\t)\r\n\r\n\t\t\t\t)\r\n\r\n\t\t\t)\r\n    union all     \r\n    SELECT '3' as flag,1 as AutoID,vouch.ID as VouchID,subVouch.ID as subVouchID,vouch.OperationTypeCode,    \r\n       (case when isnull(vouch.IsBegin ,'') = '1' then vouch.Code + '*' else vouch.Code end) as VouchCode,    \r\n       vouch.LoanDate as VouchDate,\r\n       --expenseVouch.ExpenseDate as ExpenseDate,\r\n       expenseVouch.BudgetDate as ExpenseDate,\r\n       vouch.Currency,    \r\n\t   -1 *(case when isnull(convert(nvarchar(40),subExpenseVouch.ExpenseVouchID),'')='' and vouch.BudgetItemID = expenseVouch.BudgetItemID \r\n\t\t\tand (subVouch.LocalMoney = expenseVouch.LocalMoney or isnull(subVouch.FactMoney,0) =0)    \r\n           then subVouch.LocalMoney + isnull(expenseVouch.LocalMoney,0)\r\n           else  ( CASE WHEN ISNULL(subVouch.PlanMoney, 0) = 0 THEN isnull(expenseLoanVouch.LocalMoney,0)\r\n                            ELSE CASE WHEN expenseLoanVouch.VerificateMoney>0 THEN subVouch.LocalMoney ELSE --小于0为红字单据 金额为负\r\n                            - 1*subVouch.LocalMoney end                              \r\n                            END ) end) as dblmoney,\r\n       -1 *(case when isnull(convert(nvarchar(40),subExpenseVouch.ExpenseVouchID),'')='' and vouch.BudgetItemID = expenseVouch.BudgetItemID and (subVouch.ExpenseMoney = expenseVouch.ExpenseMoney or isnull(subVouch.FactMoney,0) =0)    \r\n           then (case when isnull(subVouch.FactMoney,0) = 0 then subVouch.PlanMoney + expenseVouch.ExpenseMoney else subVouch.FactMoney + expenseVouch.ExpenseMoney end)     \r\n           else  ( CASE WHEN ISNULL(subVouch.PlanMoney, 0) = 0 THEN expenseLoanVouch.VerificateMoney\r\n                            ELSE CASE WHEN expenseLoanVouch.VerificateMoney>0 THEN subVouch.PlanMoney ELSE --小于0为红字单据 金额为负\r\n                            - 1*subVouch.PlanMoney end                              \r\n                            END ) end) as dblvouchmoney,vouch.AgentID,    \r\n       case isnull(subVouch.Memo,'')  when '' then vouch.Used else subVouch.Memo end as Used,    \r\n       vouch.LoanPersonID as PersonID,personloan2.cpersonname as strloanname2,subVouch.SpreadDeptID as DeptID,vouch.AuditorID,vouch.ItemClassID,vouch.ItemID,    \r\n\t\tsubVouch.BudgetItemID as BudgetItemID,\r\n\t\tsubVouch.Port1 as Port1,subVouch.Port1Value as Port1Value,      \r\n\t\tsubVouch.Port2 as Port2,subVouch.Port2Value as Port2Value,\r\n\t\tsubVouch.Port3 as Port3,subVouch.Port3Value as Port3Value,\r\n\t\tsubVouch.Port4 as Port4,subVouch.Port4Value as Port4Value,\r\n\t\tsubVouch.Port5 as Port5,subVouch.Port5Value as Port5Value,\r\n\t\tsubVouch.Port6 as Port6,subVouch.Port6Value as Port6Value,null as BudgetDate,\r\n\t\t-1 *(case when isnull(convert(nvarchar(40),subExpenseVouch.ExpenseVouchID),'')='' and vouch.BudgetItemID = expenseVouch.BudgetItemID and (subVouch.ExpenseMoney = expenseVouch.ExpenseMoney or isnull(subVouch.FactMoney,0) =0)    \r\n           then (case when isnull(subVouch.FactMoney,0) = 0 then subVouch.PlanMoney + expenseVouch.ExpenseMoney else subVouch.FactMoney + expenseVouch.ExpenseMoney end)     \r\n           else  ( CASE WHEN ISNULL(subVouch.PlanMoney, 0) = 0 THEN expenseLoanVouch.VerificateMoney\r\n                            ELSE CASE WHEN expenseLoanVouch.VerificateMoney>0 THEN subVouch.PlanMoney ELSE --小于0为红字单据 金额为负\r\n                            - 1*subVouch.PlanMoney end                              \r\n                            END ) end) AS NontaxAmountSub\r\n\t\t,-1 *(case when isnull(convert(nvarchar(40),subExpenseVouch.ExpenseVouchID),'')='' and vouch.BudgetItemID = expenseVouch.BudgetItemID \r\n\t\t\tand (subVouch.LocalMoney = expenseVouch.LocalMoney or isnull(subVouch.FactMoney,0) =0)    \r\n           then subVouch.LocalMoney + isnull(expenseVouch.LocalMoney,0)\r\n           else  ( CASE WHEN ISNULL(subVouch.PlanMoney, 0) = 0 THEN isnull(expenseLoanVouch.LocalMoney,0)\r\n                            ELSE CASE WHEN expenseLoanVouch.VerificateMoney>0 THEN subVouch.LocalMoney ELSE --小于0为红字单据 金额为负\r\n                            - 1*subVouch.LocalMoney end                              \r\n                            END ) end) AS LocalNontaxAmountSub\r\n    From NE_ExpenseLoanInfo as expenseLoanVouch with(nolock)\r\n    inner Join NE_LoanVouch_Sub as subVouch with(nolock)\r\n       on expenseLoanVouch.LoanVouchSubID=subVouch.ID    \r\n    inner join NE_LoanVouch as vouch with(nolock)\r\n       on subVouch.LoanVouchID=vouch.ID    \r\n    inner join NE_ExpenVouch as expenseVouch with(nolock)\r\n       on expenseLoanVouch.ExpenseVouchID=expenseVouch.ID    \r\n    left join person personloan2 with(nolock)\r\n       on expenseVouch.ExpenserID=personloan2.cpersoncode    \r\n    left join (select distinct ExpenseVouchID from NE_ExpenseVouch_Sub as subVouch with(nolock)) as subExpenseVouch  \r\n  on expenseVouch.ID=subExpenseVouch.ExpenseVouchID  \r\n    Where expenseVouch.BudgetState = 1    \r\n    union all    \r\n    SELECT '4' as flag,1 as AutoID,vouch.ID as VouchID,subVouch.ID as subVouchID,vouch.OperationTypeCode,    \r\n       vouch.Code as VouchCode,    \r\n       vouch.BudgetDate as VouchDate,vouch.BudgetDate as ExpenseDate,vouch.Currency,\r\n\t   case when subVouch.LocalMoney-isnull(tempExpense.LocalMoney,0) + ABS(isnull(tempRedExpense.RedLocalMoney,0)) < 0 then 0\r\n\t   else subVouch.LocalMoney-isnull(tempExpense.LocalMoney,0) + ABS(isnull(tempRedExpense.RedLocalMoney,0)) end as dblmoney, \r\n\t   case when subVouch.ApplyMoney-isnull(tempExpense.ExpenseMoney,0) + ABS(isnull(tempRedExpense.RedExpenseMoney,0)) < 0 then 0\r\n       else subVouch.ApplyMoney-isnull(tempExpense.ExpenseMoney,0) + ABS(isnull(tempRedExpense.RedExpenseMoney,0)) end as dblvouchmoney,\r\n       vouch.EntryID as AgentID,vouch.Used,    \r\n       vouch.ApplicantID as PersonID,'' as strloanname2,subVouch.SpreadDeptID as DeptID,vouch.AuditorID,vouch.ItemClassID,vouch.ItemID,    \r\n\t\tsubVouch.BudgetItemID as BudgetItemID,\r\n\t\tsubVouch.Port1 as Port1,subVouch.Port1Value as Port1Value,      \r\n\t\tsubVouch.Port2 as Port2,subVouch.Port2Value as Port2Value,\r\n\t\tsubVouch.Port3 as Port3,subVouch.Port3Value as Port3Value,\r\n\t\tsubVouch.Port4 as Port4,subVouch.Port4Value as Port4Value,\r\n\t\tsubVouch.Port5 as Port5,subVouch.Port5Value as Port5Value,\r\n\t\tsubVouch.Port6 as Port6,subVouch.Port6Value as Port6Value,vouch.BudgetDate,\r\n\t\tcase when subVouch.NontaxAmountSub-isnull(tempExpense.NontaxAmountSub,0) + ABS(isnull(tempRedExpense.RedNontaxAmountSub,0)) < 0 then 0\r\n        else subVouch.NontaxAmountSub-isnull(tempExpense.NontaxAmountSub,0) + ABS(isnull(tempRedExpense.RedNontaxAmountSub,0)) end as NontaxAmountSub,\r\n\t    --申请单原币即为本币  申请单多币种需要修改\r\n\t\tcase when subVouch.LocalNontaxAmountSub-isnull(tempExpense.LocalNontaxAmountSub,0) + ABS(isnull(tempRedExpense.RedLocalNontaxAmountSub,0)) < 0 then 0\r\n\t    else subVouch.LocalNontaxAmountSub-isnull(tempExpense.LocalNontaxAmountSub,0) + ABS(isnull(tempRedExpense.RedLocalNontaxAmountSub,0)) end as LocalNontaxAmountSub\t   \r\n    From NE_CostApply as vouch with(nolock)\r\n    inner Join NE_CostApply_Sub as subVouch with(nolock)\r\n       on vouch.ID=subVouch.CostApplyID    \r\n    left join NE_OperationType with(nolock)\r\n    on vouch.OperationTypeCode = NE_OperationType.Code     \r\n    left Join foreigncurrency with(nolock)\r\n    on foreigncurrency.cexch_name=vouch.Currency    \r\n    left join     \r\n    (    \r\n       select subExpense.CostApplySubID,sum(subExpense.ExpenseMoney) as ExpenseMoney,sum(subExpense.LocalMoney) as localMoney\r\n       ,sum(ISNULL(subExpense.NontaxAmountSub,0)) AS NontaxAmountSub, sum(ISNULL(subExpense.LocalNontaxAmountSub,0)) AS LocalNontaxAmountSub    \r\n       from NE_ExpenseVouch_Sub as subExpense with(nolock)   \r\n       inner join NE_ExpenVouch as expense with(nolock)   \r\n           on subExpense.ExpenseVouchID=expense.ID    \r\n       where expense.BudgetState = 1     \r\n           and isnull(expense.CostApplyID,'00000000-0000-0000-0000-000000000000')<>'00000000-0000-0000-0000-000000000000'    \r\n           and isnull(subExpense.CostApplySubID,'00000000-0000-0000-0000-000000000000')<>'00000000-0000-0000-0000-000000000000'    \r\n       group by subExpense.CostApplySubID    \r\n    ) as tempExpense    \r\n        on subVouch.ID=tempExpense.CostApplySubID          \r\n    LEFT JOIN \r\n    (\r\n\t\tSELECT subExpense.CostApplySubID, sum(subredExpense.ExpenseMoney) as RedExpenseMoney, sum(subredExpense.LocalMoney) as RedLocalMoney \r\n\t\t,sum(ISNULL(subredExpense.NontaxAmountSub,0)) AS RedNontaxAmountSub, sum(ISNULL(subredExpense.LocalNontaxAmountSub,0)) AS RedLocalNontaxAmountSub \r\n\t\tFROM NE_ExpenseVouch_Sub AS subExpense with(nolock)\r\n\t\tinner JOIN \r\n\t\t(SELECT * FROM NE_ExpenseVouch_Sub AS subExpense with(nolock) WHERE ISNULL(CONVERT(NVARCHAR(50),RedVouchSubID) ,'')<>'' ) AS subredExpense\r\n\t\ton subExpense.id=subredExpense.RedVouchSubID\r\n\t\tinner join NE_ExpenVouch as expense with(nolock)\r\n\t\t\t   on subExpense.ExpenseVouchID=expense.ID   \r\n\t\twhere expense.BudgetState = 1     \r\n\t\t\t   and isnull(expense.CostApplyID,'00000000-0000-0000-0000-000000000000')<>'00000000-0000-0000-0000-000000000000'    \r\n\t\t\t   and isnull(subExpense.CostApplySubID,'00000000-0000-0000-0000-000000000000')<>'00000000-0000-0000-0000-000000000000'           \r\n\t\tgroup by subExpense.CostApplySubID \r\n\r\n    ) AS tempRedExpense --加上红字单据的处理，将其金额加回去\r\n        on subVouch.ID=tempRedExpense.CostApplySubID    \r\n    left join bg_v_ctrlitem with(nolock) on vouch.BudgetItemID=bg_v_ctrlitem.cItemCode    \r\n    left join person with(nolock) on vouch.ApplicantID=person.cpersoncode    \r\n    left join department with(nolock) on subVouch.ApplyDeptID=department.cdepcode     \r\n    Where vouch.BudgetState = 1 and vouch.IsClose= 0    \r\n    --(这句话不知道什么意思 已经知道) 申请全推报销 就不显示了\r\n    and subVouch.LocalMoney > isnull(tempExpense.LocalMoney,0) + ABS(isnull(tempRedExpense.RedLocalMoney,0))\r\n\t --原币和本币任一个超申请，申请单都不显示   申请单多币种增加的条件，否则联查明细不正确\r\n\tand (subVouch.ApplyMoney > isnull(tempExpense.ExpenseMoney,0) + ABS(isnull(tempRedExpense.RedExpenseMoney,0)))\r\n  )    \r\n as tempVouch     \r\n Left join  (    \r\n   select a.VoucherID,a.operatorid,a.[action],a.opinion,a.OperationDate from WFAudit a  with(nolock)     \r\n   inner join     \r\n   (    \r\n    select VoucherID,max(operationdate) as operationdate from WFAudit with(nolock) where VoucherID in    \r\n    (    \r\n        SELECT CONVERT(varchar(40), vouch.ID)    \r\n     From NE_LoanVouch as vouch  with(nolock)    \r\n     Where vouch.BudgetState = 1     \r\n     union all    \r\n     SELECT CONVERT(varchar(40), vouch.ID)    \r\n     From NE_ExpenVouch as vouch with(nolock)    \r\n     Where vouch.BudgetState = 1    \r\n     union all    \r\n     SELECT CONVERT(varchar(40), vouch.ID)    \r\n     From NE_CostApply as vouch  with(nolock)    \r\n     Where vouch.BudgetState = 1 and vouch.IsClose= 0    \r\n    ) group by VoucherID     \r\n   ) b \r\n   on a.VoucherID=b.VoucherID and a.operationdate=b.operationdate and (a.[action] = 1 or a.[action] = 2)     \r\n ) WFAudit on VoucherId = CONVERT(varchar(40), tempVouch.VouchID)       \r\nleft join UserHrPersonContro with(nolock) on cPsn_num = operatorid     \r\nleft join NE_OperationType with(nolock) on tempVouch.OperationTypeCode=NE_OperationType.Code    \r\nleft join department with(nolock) on tempVouch.DeptID=department.cdepcode    \r\nleft join person personloan with(nolock) on tempVouch.PersonID=personloan.cpersoncode    \r\nleft join bg_v_ctrlitem with(nolock) on tempVouch.BudgetItemID=bg_v_ctrlitem.cItemCode    \r\nleft join fitem with(nolock) on tempVouch.ItemClassID=fitem.citem_class    \r\nLEFT JOIN NE_Enum typeLang with(nolock) ON typeLang.EnumType='NE_VerifyLoan' AND typeLang.EnumCode='1' and typeLang.LocaleID=dbo.UDF_GetLocaleID()","summary":[{"field":"Documentation","value":{"_type":"link","name":"U8V16.5数据字典","id":"d6"}},{"field":"Schema","value":"dbo"},{"field":"Name","value":"NE_BudgetVouchList_View"},{"field":"Type","value":"View"}],"columns":[{"id":"column-248430","object_id":"column-248430","name":"flag","name_without_path":"flag","description":null,"is_pk":false,"is_identity":false,"data_type":"varchar","data_length":"1","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-248431","object_id":"column-248431","name":"VouchType","name_without_path":"VouchType","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"50","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-248432","object_id":"column-248432","name":"strtypename","name_without_path":"strtypename","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"255","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-248433","object_id":"column-248433","name":"VouchID","name_without_path":"VouchID","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"51","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-248434","object_id":"column-248434","name":"dtloandate","name_without_path":"dtloandate","description":null,"is_pk":false,"is_identity":false,"data_type":"datetime","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-248435","object_id":"column-248435","name":"ExpenseDate","name_without_path":"ExpenseDate","description":null,"is_pk":false,"is_identity":false,"data_type":"datetime","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-248436","object_id":"column-248436","name":"strdepartname","name_without_path":"strdepartname","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"255","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-248437","object_id":"column-248437","name":"strloanname1","name_without_path":"strloanname1","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"50","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-248438","object_id":"column-248438","name":"strloanname2","name_without_path":"strloanname2","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"40","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-248439","object_id":"column-248439","name":"strbuditemname","name_without_path":"strbuditemname","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"120","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-248440","object_id":"column-248440","name":"strbill","name_without_path":"strbill","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"50","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-248441","object_id":"column-248441","name":"dblvouchmoney","name_without_path":"dblvouchmoney","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"38, 2","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-248442","object_id":"column-248442","name":"Used","name_without_path":"Used","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"1024","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-248443","object_id":"column-248443","name":"strpersonid","name_without_path":"strpersonid","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"50","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-248444","object_id":"column-248444","name":"AuditorID","name_without_path":"AuditorID","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"50","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-248445","object_id":"column-248445","name":"AutoID","name_without_path":"AutoID","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-248446","object_id":"column-248446","name":"guid","name_without_path":"guid","description":null,"is_pk":false,"is_identity":false,"data_type":"uniqueidentifier","data_length":null,"is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-248447","object_id":"column-248447","name":"strdepartid","name_without_path":"strdepartid","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"50","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-248448","object_id":"column-248448","name":"ItemClassID","name_without_path":"ItemClassID","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"50","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-248449","object_id":"column-248449","name":"ItemID","name_without_path":"ItemID","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"60","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-248450","object_id":"column-248450","name":"BudgetItemID","name_without_path":"BudgetItemID","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"50","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-248451","object_id":"column-248451","name":"Port1","name_without_path":"Port1","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"1000","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-248452","object_id":"column-248452","name":"Port1Value","name_without_path":"Port1Value","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"1000","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-248453","object_id":"column-248453","name":"Port2","name_without_path":"Port2","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"1000","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-248454","object_id":"column-248454","name":"Port2Value","name_without_path":"Port2Value","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"1000","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-248455","object_id":"column-248455","name":"Port3","name_without_path":"Port3","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"1000","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-248456","object_id":"column-248456","name":"Port3Value","name_without_path":"Port3Value","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"1000","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-248457","object_id":"column-248457","name":"Port4","name_without_path":"Port4","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"1000","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-248458","object_id":"column-248458","name":"Port4Value","name_without_path":"Port4Value","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"1000","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-248459","object_id":"column-248459","name":"Port5","name_without_path":"Port5","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"1000","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-248460","object_id":"column-248460","name":"Port5Value","name_without_path":"Port5Value","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"1000","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-248461","object_id":"column-248461","name":"Port6","name_without_path":"Port6","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"1000","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-248462","object_id":"column-248462","name":"Port6Value","name_without_path":"Port6Value","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"1000","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-248463","object_id":"column-248463","name":"MenuID","name_without_path":"MenuID","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"64","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-248464","object_id":"column-248464","name":"BudgetDate","name_without_path":"BudgetDate","description":null,"is_pk":false,"is_identity":false,"data_type":"datetime","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-248465","object_id":"column-248465","name":"dblmoney","name_without_path":"dblmoney","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"38, 2","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-248466","object_id":"column-248466","name":"NontaxAmountSub","name_without_path":"NontaxAmountSub","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"38, 2","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-248467","object_id":"column-248467","name":"LocalNontaxAmountSub","name_without_path":"LocalNontaxAmountSub","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"38, 2","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]}],"relations":[],"triggers":[],"unique_keys":[],"dependencies":null,"imported_at":"2024-07-15 13:47"};