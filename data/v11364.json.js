window.repositoryObject = {"columns_custom_fields":[],"relations_custom_fields":[],"triggers_custom_fields":[],"object_id":"v11364","name":"HR_v_TM_Leave_App_Body_ERP","subtype":"VIEW","is_user_defined":false,"description":null,"script":"CREATE VIEW HR_v_TM_Leave_App_Body_ERP\r\nAS\r\n    SELECT  app.VoucherId ,\r\n            app.VoucherCode ,\r\n            app.VoucherType ,\r\n            app.DptCode ,\r\n            app.Reason ,\r\n            app.Type ,\r\n            t.vName AS typeName,\r\n            app.Remark ,\r\n            app.BeginTime ,\r\n            app.EndTime ,\r\n            app.Hours ,\r\n            app.CreateOn ,\r\n            app.Creater ,\r\n            p4.cPsn_Name AS CreaterName,\r\n            app.SubmitOn ,\r\n            app.AuditOn ,\r\n            app.Auditor ,\r\n            p3.cPsn_Name AS AuditorName,\r\n            app.Status ,\r\n            s.vdescription AS StatusName,\r\n            app.Role ,\r\n            app.vRestPeriod ,\r\n            CASE WHEN app.LeaveTimeType = '1' THEN '整天请假'\r\n                 ELSE '按时点请假'\r\n            END AS LeaveTimeType ,\r\n            app.PlanEndDate ,\r\n            app.LeaveStatus ,\r\n            CASE WHEN app.Role = '0' THEN p1.cPsn_Name\r\n                 ELSE p2.cPsn_Name\r\n            END AS cPsn_Name ,\r\n            CASE WHEN app.Role = '0' THEN app.PsnCode\r\n                 ELSE items.PsnCode\r\n            END AS psnCode ,\r\n            CASE WHEN app.Role = '0' THEN p1.JobNumber\r\n                 ELSE p2.JobNumber\r\n            END AS JobNumber ,\r\n            CASE WHEN app.Role = '0' THEN d1.cDepName\r\n                 ELSE d2.cDepName\r\n            END AS cDepName\r\n    FROM    dbo.HR_TM_Leave_App app\r\n            LEFT OUTER JOIN HR_TM_App_Items items ON app.VoucherId = items.VoucherId\r\n                                                     AND items.VoucherType = 'HR.Leave'\r\n            LEFT OUTER JOIN dbo.hr_hi_person p1 ON app.PsnCode = p1.cPsn_Num\r\n            LEFT OUTER JOIN dbo.hr_hi_person p2 ON items.PsnCode = p2.cPsn_Num\r\n            LEFT OUTER JOIN dbo.hr_hi_person p3 ON app.Auditor = p3.cPsn_Num\r\n            LEFT OUTER JOIN dbo.hr_hi_person p4 ON app.Creater = p4.cPsn_Num\r\n            LEFT OUTER JOIN dbo.Department d1 ON p1.cDept_num = d1.cDepCode\r\n            LEFT OUTER JOIN dbo.Department d2 ON p2.cDept_num = d2.cDepCode\r\n            LEFT OUTER JOIN hr_ct099 s ON app.Status=s.ccodeid\r\n            LEFT OUTER JOIN hr_tm_leavetype t ON app.Type = t.cCode","summary":[{"field":"Documentation","value":{"_type":"link","name":"U8V16.5数据字典","id":"d6"}},{"field":"Schema","value":"dbo"},{"field":"Name","value":"HR_v_TM_Leave_App_Body_ERP"},{"field":"Type","value":"View"}],"columns":[{"id":"column-227733","object_id":"column-227733","name":"VoucherId","name_without_path":"VoucherId","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"50","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-227734","object_id":"column-227734","name":"VoucherCode","name_without_path":"VoucherCode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-227735","object_id":"column-227735","name":"VoucherType","name_without_path":"VoucherType","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-227736","object_id":"column-227736","name":"DptCode","name_without_path":"DptCode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-227737","object_id":"column-227737","name":"Reason","name_without_path":"Reason","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"255","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-227738","object_id":"column-227738","name":"Type","name_without_path":"Type","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"4","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-227739","object_id":"column-227739","name":"typeName","name_without_path":"typeName","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"500","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-227740","object_id":"column-227740","name":"Remark","name_without_path":"Remark","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"255","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-227741","object_id":"column-227741","name":"BeginTime","name_without_path":"BeginTime","description":null,"is_pk":false,"is_identity":false,"data_type":"datetime","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-227742","object_id":"column-227742","name":"EndTime","name_without_path":"EndTime","description":null,"is_pk":false,"is_identity":false,"data_type":"datetime","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-227743","object_id":"column-227743","name":"Hours","name_without_path":"Hours","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"10, 2","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-227744","object_id":"column-227744","name":"CreateOn","name_without_path":"CreateOn","description":null,"is_pk":false,"is_identity":false,"data_type":"datetime","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-227745","object_id":"column-227745","name":"Creater","name_without_path":"Creater","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"50","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-227746","object_id":"column-227746","name":"CreaterName","name_without_path":"CreaterName","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"40","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-227747","object_id":"column-227747","name":"SubmitOn","name_without_path":"SubmitOn","description":null,"is_pk":false,"is_identity":false,"data_type":"datetime","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-227748","object_id":"column-227748","name":"AuditOn","name_without_path":"AuditOn","description":null,"is_pk":false,"is_identity":false,"data_type":"datetime","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-227749","object_id":"column-227749","name":"Auditor","name_without_path":"Auditor","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"50","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-227750","object_id":"column-227750","name":"AuditorName","name_without_path":"AuditorName","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"40","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-227751","object_id":"column-227751","name":"Status","name_without_path":"Status","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"2","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-227752","object_id":"column-227752","name":"StatusName","name_without_path":"StatusName","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"100","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-227753","object_id":"column-227753","name":"Role","name_without_path":"Role","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"2","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-227754","object_id":"column-227754","name":"vRestPeriod","name_without_path":"vRestPeriod","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"4","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-227755","object_id":"column-227755","name":"LeaveTimeType","name_without_path":"LeaveTimeType","description":null,"is_pk":false,"is_identity":false,"data_type":"varchar","data_length":"10","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-227756","object_id":"column-227756","name":"PlanEndDate","name_without_path":"PlanEndDate","description":null,"is_pk":false,"is_identity":false,"data_type":"datetime","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-227757","object_id":"column-227757","name":"LeaveStatus","name_without_path":"LeaveStatus","description":null,"is_pk":false,"is_identity":false,"data_type":"varchar","data_length":"1","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-227758","object_id":"column-227758","name":"cPsn_Name","name_without_path":"cPsn_Name","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"40","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-227759","object_id":"column-227759","name":"psnCode","name_without_path":"psnCode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-227760","object_id":"column-227760","name":"JobNumber","name_without_path":"JobNumber","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"50","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-227761","object_id":"column-227761","name":"cDepName","name_without_path":"cDepName","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"255","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]}],"relations":[],"triggers":[],"unique_keys":[],"dependencies":null,"imported_at":"2024-07-15 13:47"};