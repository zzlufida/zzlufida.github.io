window.repositoryObject = {"columns_custom_fields":[],"relations_custom_fields":[],"triggers_custom_fields":[],"object_id":"v12406","name":"SR_View_ItemsRpt","subtype":"VIEW","is_user_defined":false,"description":null,"script":"CREATE          VIEW  SR_View_ItemsRpt AS\r\nSELECT  \r\n\r\n--报表用展示数据项\r\n\r\n--部门\r\n--Department.cDepName,\r\n--人员\r\n--Person.cPersonName,\r\n--存货分类\r\n--InventoryClass.cInvCName,\r\n--存货\r\n--Inventory.cInvName,\r\n--行业\r\n--TradeClass.cTradeCName,\r\n--客户分类\r\n--CustomerClass.cCCName,\r\n--客户地区\r\n--DistrictClass.cDCName,\r\n--项目\r\n--SR_ServiceBill.cItemName,\r\n\r\n--服务单编码\r\nSR_ServiceBill.cSerBillCode,\r\n--服务配件\r\n--编码、名称、规格型号、主计量、免费数量、实际数量\r\nSerItem.cInvCode AS cItemInvCode,ItemsInventory.cInvName as cItemInvName,\r\nItemsInventory.cInvStd as cItemInvStd,Unit.cComUnitName as cUnitName,\r\nCASE \r\n      WHEN SerItem.mTaxUnitPrice =0 THEN SerItem.fQuantity \r\n      ELSE 0\r\nEND AS FreeItems,\r\nSerItem.fQuantity AS ChargeItems,\r\n/*\r\n--服务配件自由项\r\nSerItem.Free1,SerItem.Free2,SerItem.Free3,SerItem.Free4,SerItem.Free5,\r\nSerItem.Free6,SerItem.Free7,SerItem.Free8,SerItem.Free9,SerItem.Free10,\r\n--服务配件自定义项\r\nSerItem.defined1,SerItem.defined2,SerItem.defined3,SerItem.defined4,             \r\nSerItem.defined5,SerItem.defined6,SerItem.defined7,SerItem.defined8,             \r\nSerItem.defined9,SerItem.defined10,SerItem.defined11,SerItem.defined12,            \r\nSerItem.defined13,SerItem.defined14,SerItem.defined15,SerItem.defined16,  \r\n*/\r\n--其他字段\r\nSerItem.fDiscount1 as fItemDiscount1,SerItem.fDiscount2 as fItemDiscount2,\r\n\r\ncase (SR_ServiceBill.fExchRate) when 1.0 then  SerItem.mDiscountSum else  SerItem.mNatDiscountSum  end as mItemDiscountSum,\r\nSerItem.mNatTotalSum/SerItem.fQuantity as mItemTaxUnitPrice,\r\ncase (SR_ServiceBill.fExchRate) when 1.0 then SerItem.mTotalSum else SerItem.mNatTotalSum end as mItemTotalSum,\r\nSerItem.mTaxUnitPrice,SerItem.cTypeClass,enum.enumName,\r\n     \r\n--报表查询数据项\r\nSR_ServiceBill.OID,SR_ServiceBill.cItemCode,\r\nSR_ServiceBill.dReqDate,SR_ServiceBilldetail.dCompletedDate,\r\nSR_ServiceBilldetail.cSerDepCode,SR_ServiceBill.cReqDepCode,\r\nSR_ServiceBilldetail.cSerPrincipalCode,SR_ServiceBill.SerStateID,\r\nCustomer.cCusCode,\r\nCustomerClass.cCCCode,--CustomerClass.iCCGrade,CustomerClass.bCCEnd,\r\nTradeClass.cTradeCCode,--TradeClass.iTradeCGrade,TradeClass.bTradeCEnd,\r\nDistrictClass.cDCCode,--DistrictClass.iDCGrade,DistrictClass.bDCEnd,\r\nInventoryClass.cInvCCode,InventoryClass.cInvCName,--InventoryClass.iInvCGrade,InventoryClass.bInvCEnd,\r\nInventory.cInvCode,Inventory.cInvName,ItemsInventory.bSrvItem,ItemsInventory.bSrvFittings,\r\nSR_ServiceType.cSerTypeCode--,SR_ServiceType.cSerTypeName\r\n\r\n\r\n--其他高级查询条件中的查询项\r\n--...\r\n\r\n--服务配件/项目\r\nFROM  SR_ServiceItems SerItem  \r\n--存货\r\nLEFT JOIN Inventory ItemsInventory ON ItemsInventory.cInvCode = SerItem.cInvCode \r\n--主计量\r\nLEFT JOIN ComputationUnit AS Unit ON ItemsInventory.cComUnitCode = Unit.cComUnitCode\r\n--服务单\r\nLEFT JOIN SR_ServiceBilldetail ON SerItem.serbodyOid = SR_ServiceBilldetail.OID \r\nLEFT JOIN SR_ServiceBill ON SerItem.SerBillID = SR_ServiceBill.OID \r\n--部门\r\nLEFT JOIN Department ON Department.cDepCode = SR_ServiceBilldetail.cSerDepCode\r\n--内部部门\r\nLEFT JOIN Department InnerDept ON InnerDept.cDepCode = SR_ServiceBill.cReqDepCode\r\n--人员\r\nLEFT JOIN Person ON Person.cPersonCode = SR_ServiceBilldetail.cSerPrincipalCode\r\n--服务类型\r\nLEFT JOIN SR_ServiceType ON SR_ServiceType.cSerTypeCode = SR_ServiceBill.SerTypeID\r\n--存货\r\nLEFT JOIN Inventory  ON Inventory.cInvCode = SR_ServiceBilldetail.cInvCode\r\n--存货分类\r\nLEFT JOIN InventoryClass ON InventoryClass.cInvCCode= Inventory.cInvCCode\r\n--客户档案\r\nLEFT JOIN Customer  ON Customer.cCusCode=SR_ServiceBill.cCusCode\r\n--客户分类\r\nLEFT JOIN CustomerClass  ON CustomerClass.cCCCode= Customer.cCCCode\r\n--行业\r\nLEFT JOIN TradeClass ON  TradeClass.cTradeCCode= Customer.cCusTradeCCode   \r\n--地区\r\nLEFT JOIN DistrictClass ON DistrictClass.cDCCode= Customer.cDCCode\r\n\r\nLeft join (select * from aa_enum where enumtype='SR.cTypeClass') Enum on Enum.enumcode=Seritem.cTypeclass\r\n\r\nWHERE SR_ServiceBill.SerStateID in (N'0',N'1',N'04',N'05')","summary":[{"field":"Documentation","value":{"_type":"link","name":"U8V16.5数据字典","id":"d6"}},{"field":"Schema","value":"dbo"},{"field":"Name","value":"SR_View_ItemsRpt"},{"field":"Type","value":"View"}],"columns":[{"id":"column-303235","object_id":"column-303235","name":"cSerBillCode","name_without_path":"cSerBillCode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"30","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-303236","object_id":"column-303236","name":"cItemInvCode","name_without_path":"cItemInvCode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-303237","object_id":"column-303237","name":"cItemInvName","name_without_path":"cItemInvName","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"60","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-303238","object_id":"column-303238","name":"cItemInvStd","name_without_path":"cItemInvStd","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"60","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-303239","object_id":"column-303239","name":"cUnitName","name_without_path":"cUnitName","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-303240","object_id":"column-303240","name":"FreeItems","name_without_path":"FreeItems","description":null,"is_pk":false,"is_identity":false,"data_type":"float","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-303241","object_id":"column-303241","name":"ChargeItems","name_without_path":"ChargeItems","description":null,"is_pk":false,"is_identity":false,"data_type":"float","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-303242","object_id":"column-303242","name":"fItemDiscount1","name_without_path":"fItemDiscount1","description":null,"is_pk":false,"is_identity":false,"data_type":"float","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-303243","object_id":"column-303243","name":"fItemDiscount2","name_without_path":"fItemDiscount2","description":null,"is_pk":false,"is_identity":false,"data_type":"float","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-303244","object_id":"column-303244","name":"mItemDiscountSum","name_without_path":"mItemDiscountSum","description":null,"is_pk":false,"is_identity":false,"data_type":"money","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-303245","object_id":"column-303245","name":"mItemTaxUnitPrice","name_without_path":"mItemTaxUnitPrice","description":null,"is_pk":false,"is_identity":false,"data_type":"float","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-303246","object_id":"column-303246","name":"mItemTotalSum","name_without_path":"mItemTotalSum","description":null,"is_pk":false,"is_identity":false,"data_type":"money","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-303247","object_id":"column-303247","name":"mTaxUnitPrice","name_without_path":"mTaxUnitPrice","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"26, 9","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-303248","object_id":"column-303248","name":"cTypeClass","name_without_path":"cTypeClass","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"4","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-303249","object_id":"column-303249","name":"enumName","name_without_path":"enumName","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"150","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-303250","object_id":"column-303250","name":"OID","name_without_path":"OID","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"40","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-303251","object_id":"column-303251","name":"cItemCode","name_without_path":"cItemCode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-303252","object_id":"column-303252","name":"dReqDate","name_without_path":"dReqDate","description":null,"is_pk":false,"is_identity":false,"data_type":"datetime","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-303253","object_id":"column-303253","name":"dCompletedDate","name_without_path":"dCompletedDate","description":null,"is_pk":false,"is_identity":false,"data_type":"datetime","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-303254","object_id":"column-303254","name":"cSerDepCode","name_without_path":"cSerDepCode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"24","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-303255","object_id":"column-303255","name":"cReqDepCode","name_without_path":"cReqDepCode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"12","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-303256","object_id":"column-303256","name":"cSerPrincipalCode","name_without_path":"cSerPrincipalCode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"40","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-303257","object_id":"column-303257","name":"SerStateID","name_without_path":"SerStateID","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"2","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-303258","object_id":"column-303258","name":"cCusCode","name_without_path":"cCusCode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-303259","object_id":"column-303259","name":"cCCCode","name_without_path":"cCCCode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"12","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-303260","object_id":"column-303260","name":"cTradeCCode","name_without_path":"cTradeCCode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"12","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-303261","object_id":"column-303261","name":"cDCCode","name_without_path":"cDCCode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"12","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-303262","object_id":"column-303262","name":"cInvCCode","name_without_path":"cInvCCode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"12","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-303263","object_id":"column-303263","name":"cInvCName","name_without_path":"cInvCName","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"100","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-303264","object_id":"column-303264","name":"cInvCode","name_without_path":"cInvCode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-303265","object_id":"column-303265","name":"cInvName","name_without_path":"cInvName","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"60","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-303266","object_id":"column-303266","name":"bSrvItem","name_without_path":"bSrvItem","description":null,"is_pk":false,"is_identity":false,"data_type":"bit","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-303267","object_id":"column-303267","name":"bSrvFittings","name_without_path":"bSrvFittings","description":null,"is_pk":false,"is_identity":false,"data_type":"bit","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-303268","object_id":"column-303268","name":"cSerTypeCode","name_without_path":"cSerTypeCode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"30","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]}],"relations":[],"triggers":[],"unique_keys":[],"dependencies":null,"imported_at":"2024-07-15 13:47"};