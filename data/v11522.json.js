window.repositoryObject = {"columns_custom_fields":[],"relations_custom_fields":[],"triggers_custom_fields":[],"object_id":"v11522","name":"IMOrderForIMAscend","subtype":"VIEW","is_user_defined":false,"description":null,"script":"create   VIEW IMOrderForIMAscend as  \r\n\r\nselect  im_order.ccode as cpoid,im_order.ddate as dpodate,im_order.cvencode, im_order.cdepcode,\tvendor.cvenabbname,\r\n\tdepartment.cdepname,im_bustype.cimbustype as cbustype,purchasetype.cptname,im_order.cpersoncode,person.cpersonname,\r\n\tim_order.cexch_name,detail.cinvcode,inventory.cinvname, inventory.cinvstd, inventory.cinvaddcode,\r\n\tdetail.darrivedate,detail.cpucomunitcode as cunitid, inventory.ccomunitcode as ccomunitcode,\r\n\tunit1.ccomunitname AS cinvm_unit,CASE WHEN isnull(inventory.igrouptype, 0) = 0 THEN NULL ELSE unit2.ccomunitname END AS cinva_unit,\r\n\tdetail.sodid as isosid,detail.sotypeid as sotype,v_aa_enum.enumname as cvouchname, N'im23' as cvouchtype, \r\n\tim_order.id as poid,detail.autoid as id,im_order.ivtid as vt_id,\r\n\t(case when isnull(im_order.ccloser,'')<>'' then N'关闭' else  (case when im_order.iverifystate=2 then N'审核' else N'未审核' end) end ) as cvouchstate,\r\n\tdetail.fquantity as iquantity,detail.fnum as inum, detail.fchangrate as ichangrate,detail.fmoney as isum,\r\n\tisnull(detail.farrqty,0) as iarrqty,\r\n\t(case when Inventory.igrouptype=1 and isnull(detail.fchangrate,0) <>0 then isnull(detail.farrqty,0)/detail.fchangrate else isnull(detail.farrnum,0) end ) as farrnum,\r\n\t(case when isnull(detail.fquantity,0)<isnull(detail.farrqty,0) then 0 else isnull(detail.fquantity,0)-isnull(detail.farrqty,0) end ) as inoarrqty,\r\n\t(case when isnull(detail.fquantity,0)<>0 then isnull(detail.farrqty,0)/isnull(detail.fquantity,0)*100 else null end ) as dhpercent,\r\n\tisnull(detail.finqty,0) as ireceivedqty,\r\n\t(case when Inventory.igrouptype=1 and isnull(detail.fchangrate,0) <>0 then isnull(detail.finqty,0)/detail.fchangrate else isnull(detail.finnum,0) end ) as finnum,\r\n\t(case when isnull(detail.fquantity,0)<isnull(detail.finqty,0) then 0 else isnull(detail.fquantity,0)-isnull(detail.finqty,0) end )as inoreceivedqty,\r\n\t(case when isnull(detail.fquantity,0)<>0 then isnull(detail.finqty,0)/isnull(detail.fquantity,0)*100 else null end ) as rkpercent,\r\n\tisnull(detail.finvoiceqty,0)+isnull(detail.funinvoiceqty,0) as iinvqty,isnull(detail.finvoicenum,0)+isnull(detail.funinvoicenum,0) as iinvnum,\r\n\tisnull(detail.fpaymoney,0)/detail.fmoney*100 as fkpercent,\r\n\tdetail.fpaymoney,Arrival.fvalidquantity,Arrival.finvalidquantity,Arrival.frefusequantity\r\nFROM \tim_orderdetail detail\r\n\tleft JOIN im_order ON detail.id = im_order.id\r\n\tLEFT JOIN  Inventory ON detail.cInvCode = Inventory.cInvCode\r\n\tLEFT JOIN  ComputationUnit AS Unit1 ON inventory.cComUnitCode = Unit1.cComUnitCode     \r\n    LEFT JOIN ComputationUnit AS Unit2 ON detail.cpucomunitcode = Unit2.cComUnitCode  \r\n\tLEFT join department on im_order.cdepcode = department.cdepcode \r\n\tLEFT join vendor on im_order.cvencode = vendor.cvencode\r\n\tLEFT JOIN PurchaseType ON im_order.cPTCode = PurchaseType.cPTCode\r\n   \tLEFT JOIN Person ON im_order.cPersonCode = Person.cPersonCode\r\n\tleft join \r\n\t(select sum(isnull(fvalidquantity,0)) as fvalidquantity,sum(isnull(finvalidquantity,0)) as finvalidquantity,\r\n\tsum(isnull(frefusequantity,0)) as frefusequantity,iposid from PU_ArrivalVouch inner join PU_ArrivalVouchs \r\n\ton PU_ArrivalVouch.id=PU_ArrivalVouchs.id and PU_ArrivalVouch.cvouchtype=N'IM25' group by iposid) Arrival \r\n\tON detail.autoid = Arrival.iPOsID\r\n\tleft join im_bustype on im_bustype.iimbustype = im_order.iimbustype  and im_bustype.langid = @@langid   \r\n\tleft join v_aa_enum on  v_aa_enum.enumtype =N'ST.VouchSource' and enumcode=N'进口订单'","summary":[{"field":"Documentation","value":{"_type":"link","name":"U8V16.5数据字典","id":"d6"}},{"field":"Schema","value":"dbo"},{"field":"Name","value":"IMOrderForIMAscend"},{"field":"Type","value":"View"}],"columns":[{"id":"column-235594","object_id":"column-235594","name":"cpoid","name_without_path":"cpoid","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"30","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-235595","object_id":"column-235595","name":"dpodate","name_without_path":"dpodate","description":null,"is_pk":false,"is_identity":false,"data_type":"datetime","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-235596","object_id":"column-235596","name":"cvencode","name_without_path":"cvencode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-235597","object_id":"column-235597","name":"cdepcode","name_without_path":"cdepcode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-235598","object_id":"column-235598","name":"cvenabbname","name_without_path":"cvenabbname","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"60","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-235599","object_id":"column-235599","name":"cdepname","name_without_path":"cdepname","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-235600","object_id":"column-235600","name":"cbustype","name_without_path":"cbustype","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"50","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-235601","object_id":"column-235601","name":"cptname","name_without_path":"cptname","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-235602","object_id":"column-235602","name":"cpersoncode","name_without_path":"cpersoncode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"40","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-235603","object_id":"column-235603","name":"cpersonname","name_without_path":"cpersonname","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"40","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-235604","object_id":"column-235604","name":"cexch_name","name_without_path":"cexch_name","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"8","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-235605","object_id":"column-235605","name":"cinvcode","name_without_path":"cinvcode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-235606","object_id":"column-235606","name":"cinvname","name_without_path":"cinvname","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"60","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-235607","object_id":"column-235607","name":"cinvstd","name_without_path":"cinvstd","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"60","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-235608","object_id":"column-235608","name":"cinvaddcode","name_without_path":"cinvaddcode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"30","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-235609","object_id":"column-235609","name":"darrivedate","name_without_path":"darrivedate","description":null,"is_pk":false,"is_identity":false,"data_type":"datetime","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-235610","object_id":"column-235610","name":"cunitid","name_without_path":"cunitid","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"35","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-235611","object_id":"column-235611","name":"ccomunitcode","name_without_path":"ccomunitcode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"35","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-235612","object_id":"column-235612","name":"cinvm_unit","name_without_path":"cinvm_unit","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-235613","object_id":"column-235613","name":"cinva_unit","name_without_path":"cinva_unit","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-235614","object_id":"column-235614","name":"isosid","name_without_path":"isosid","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"40","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-235615","object_id":"column-235615","name":"sotype","name_without_path":"sotype","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-235616","object_id":"column-235616","name":"cvouchname","name_without_path":"cvouchname","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"150","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-235617","object_id":"column-235617","name":"cvouchtype","name_without_path":"cvouchtype","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"4","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-235618","object_id":"column-235618","name":"poid","name_without_path":"poid","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-235619","object_id":"column-235619","name":"id","name_without_path":"id","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-235620","object_id":"column-235620","name":"vt_id","name_without_path":"vt_id","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-235621","object_id":"column-235621","name":"cvouchstate","name_without_path":"cvouchstate","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"3","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-235622","object_id":"column-235622","name":"iquantity","name_without_path":"iquantity","description":null,"is_pk":false,"is_identity":false,"data_type":"exdecimal: decimal","data_length":"18, 6","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-235623","object_id":"column-235623","name":"inum","name_without_path":"inum","description":null,"is_pk":false,"is_identity":false,"data_type":"exdecimal: decimal","data_length":"18, 6","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-235624","object_id":"column-235624","name":"ichangrate","name_without_path":"ichangrate","description":null,"is_pk":false,"is_identity":false,"data_type":"exdecimal: decimal","data_length":"18, 6","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-235625","object_id":"column-235625","name":"isum","name_without_path":"isum","description":null,"is_pk":false,"is_identity":false,"data_type":"exmoney: decimal","data_length":"18, 6","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-235626","object_id":"column-235626","name":"iarrqty","name_without_path":"iarrqty","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"18, 6","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-235627","object_id":"column-235627","name":"farrnum","name_without_path":"farrnum","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"38, 20","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-235628","object_id":"column-235628","name":"inoarrqty","name_without_path":"inoarrqty","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"19, 6","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-235629","object_id":"column-235629","name":"dhpercent","name_without_path":"dhpercent","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"38, 16","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-235630","object_id":"column-235630","name":"ireceivedqty","name_without_path":"ireceivedqty","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"18, 6","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-235631","object_id":"column-235631","name":"finnum","name_without_path":"finnum","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"38, 20","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-235632","object_id":"column-235632","name":"inoreceivedqty","name_without_path":"inoreceivedqty","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"19, 6","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-235633","object_id":"column-235633","name":"rkpercent","name_without_path":"rkpercent","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"38, 16","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-235634","object_id":"column-235634","name":"iinvqty","name_without_path":"iinvqty","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"19, 6","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-235635","object_id":"column-235635","name":"iinvnum","name_without_path":"iinvnum","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"19, 6","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-235636","object_id":"column-235636","name":"fkpercent","name_without_path":"fkpercent","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"38, 16","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-235637","object_id":"column-235637","name":"fpaymoney","name_without_path":"fpaymoney","description":null,"is_pk":false,"is_identity":false,"data_type":"exmoney: decimal","data_length":"18, 6","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-235638","object_id":"column-235638","name":"fvalidquantity","name_without_path":"fvalidquantity","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"38, 6","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-235639","object_id":"column-235639","name":"finvalidquantity","name_without_path":"finvalidquantity","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"38, 6","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-235640","object_id":"column-235640","name":"frefusequantity","name_without_path":"frefusequantity","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"38, 6","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]}],"relations":[],"triggers":[],"unique_keys":[],"dependencies":null,"imported_at":"2024-07-15 13:47"};