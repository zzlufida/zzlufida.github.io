window.repositoryObject = {"columns_custom_fields":[],"relations_custom_fields":[],"triggers_custom_fields":[],"object_id":"v14315","name":"vwNEExpenseLoanInfo","subtype":"VIEW","is_user_defined":false,"description":null,"script":"CREATE VIEW [dbo].[vwNEExpenseLoanInfo]  \r\nAS  \r\n    SELECT  ExpenseLoan.ID AS id ,        \r\n            Loan.OperationTypeCode AS OperationType ,        \r\n            ExpenseLoan.ExpenseVouchID AS LoanID ,        \r\n            Loan.Code AS VouchID ,        \r\n            LoanSub.RowNO AS RowNO ,        \r\n            Loan.LoanDate AS LoanDate ,        \r\n            LoanSub.DeptID AS DeptID ,        \r\n            LoanSub.BorrowerID AS LoanPerson ,        \r\n            CASE WHEN ISNULL(LoanSub.Memo, '') = '' THEN Loan.Used        \r\n                 ELSE LoanSub.Memo        \r\n            END AS Used ,        \r\n            Loan.Currency AS Currency ,        \r\n            Loan.ExchangeRate AS ExchangeRate ,        \r\n            LoanSub.PayType AS PayType ,        \r\n            LoanSub.FactMoney AS FactMoney ,        \r\n            LoanSub.DebtMoney AS DebtMoney ,        \r\n            SumExLoan.VerificateMoney AS SumVerificateMoney ,        \r\n            ExpenseLoan.VerificateMoney AS VerificateMoney ,        \r\n            ExpenseLoan.LocalMoney AS LocalMoney ,        \r\n            LoanSub.PlanMoney AS PlanMoney  ,    \r\n            SumExLoan.PreVerifyMoney,    \r\n            SumExLoan.PreVerifyLocalMoney,  \r\n             Expen.Code   as ExpenVouchID,\r\n           Expen.HXDate as ExpenLoanDate   \r\n    FROM    NE_ExpenseLoanInfo ExpenseLoan        \r\n            INNER JOIN NE_LoanVouch_Sub LoanSub ON ExpenseLoan.LoanVouchSubID = LoanSub.ID        \r\n                                                   AND ISNULL(ExpenseLoan.IsUsed,0) = 0        \r\n            INNER JOIN NE_LoanVouch Loan ON Loan.ID = LoanSub.LoanVouchID        \r\n            INNER JOIN ( SELECT exLoan.LoanVouchSubID AS LoanVouchSubID ,exLoan.ExpenseVouchID,       \r\n                            SUM(case when IsUsed is null then 0 else exLoan.VerificateMoney end) AS VerificateMoney ,        \r\n       SUM(case when IsUsed is null then exLoan.VerificateMoney else 0 end) AS PreVerifyMoney ,        \r\n       SUM(exLoan.ReturnMoney) AS ReturnMoney ,       \r\n       SUM(case when IsUsed is null then 0 else exLoan.LocalMoney end) AS LocalMoney ,         \r\n       SUM(case when IsUsed is null then exLoan.LocalMoney else 0 end) AS PreVerifyLocalMoney ,         \r\n       SUM(exLoan.ExpenseMidMoney) AS ExpenseMidMoney        \r\n                         FROM   NE_ExpenseLoanInfo as exLoan       \r\n                         GROUP BY exLoan.LoanVouchSubID,exLoan.ExpenseVouchID    \r\n                       ) SumExLoan ON LoanSub.ID = SumExLoan.LoanVouchSubID and   ExpenseLoan.ExpenseVouchID = SumExLoan.ExpenseVouchID      \r\n             INNER JOIN dbo.NE_ExpenVouch Expen ON ExpenseLoan.ExpenseVouchID=Expen.ID","summary":[{"field":"Documentation","value":{"_type":"link","name":"U8V16.5数据字典","id":"d6"}},{"field":"Schema","value":"dbo"},{"field":"Name","value":"vwNEExpenseLoanInfo"},{"field":"Type","value":"View"}],"columns":[{"id":"column-423915","object_id":"column-423915","name":"id","name_without_path":"id","description":null,"is_pk":false,"is_identity":false,"data_type":"uniqueidentifier","data_length":null,"is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-423916","object_id":"column-423916","name":"OperationType","name_without_path":"OperationType","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"50","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-423917","object_id":"column-423917","name":"LoanID","name_without_path":"LoanID","description":null,"is_pk":false,"is_identity":false,"data_type":"uniqueidentifier","data_length":null,"is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-423918","object_id":"column-423918","name":"VouchID","name_without_path":"VouchID","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"50","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-423919","object_id":"column-423919","name":"RowNO","name_without_path":"RowNO","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-423920","object_id":"column-423920","name":"LoanDate","name_without_path":"LoanDate","description":null,"is_pk":false,"is_identity":false,"data_type":"datetime","data_length":null,"is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-423921","object_id":"column-423921","name":"DeptID","name_without_path":"DeptID","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-423922","object_id":"column-423922","name":"LoanPerson","name_without_path":"LoanPerson","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-423923","object_id":"column-423923","name":"Used","name_without_path":"Used","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"1024","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-423924","object_id":"column-423924","name":"Currency","name_without_path":"Currency","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"50","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-423925","object_id":"column-423925","name":"ExchangeRate","name_without_path":"ExchangeRate","description":null,"is_pk":false,"is_identity":false,"data_type":"float","data_length":null,"is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-423926","object_id":"column-423926","name":"PayType","name_without_path":"PayType","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-423927","object_id":"column-423927","name":"FactMoney","name_without_path":"FactMoney","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"12, 2","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-423928","object_id":"column-423928","name":"DebtMoney","name_without_path":"DebtMoney","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"12, 2","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-423929","object_id":"column-423929","name":"SumVerificateMoney","name_without_path":"SumVerificateMoney","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"38, 2","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-423930","object_id":"column-423930","name":"VerificateMoney","name_without_path":"VerificateMoney","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"12, 2","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-423931","object_id":"column-423931","name":"LocalMoney","name_without_path":"LocalMoney","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"12, 2","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-423932","object_id":"column-423932","name":"PlanMoney","name_without_path":"PlanMoney","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"12, 2","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-423933","object_id":"column-423933","name":"PreVerifyMoney","name_without_path":"PreVerifyMoney","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"38, 2","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-423934","object_id":"column-423934","name":"PreVerifyLocalMoney","name_without_path":"PreVerifyLocalMoney","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"38, 2","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-423935","object_id":"column-423935","name":"ExpenVouchID","name_without_path":"ExpenVouchID","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"50","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-423936","object_id":"column-423936","name":"ExpenLoanDate","name_without_path":"ExpenLoanDate","description":null,"is_pk":false,"is_identity":false,"data_type":"datetime","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]}],"relations":[],"triggers":[],"unique_keys":[],"dependencies":null,"imported_at":"2024-07-15 13:47"};