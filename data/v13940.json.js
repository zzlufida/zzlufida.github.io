window.repositoryObject = {"columns_custom_fields":[],"relations_custom_fields":[],"triggers_custom_fields":[],"object_id":"v13940","name":"V_ST_CurrentStock","subtype":"VIEW","is_user_defined":false,"description":null,"script":"--U82019072301117\r\nCREATE VIEW [dbo].[V_ST_CurrentStock]  \r\nas  \r\nselect c.AutoID as cid,i.cinvcode,i.cinvname,i.cinvstd,i.iid,c.cwhcode,w.cwhname,saunit.cComUnitName,cSAComUnitcode,    \r\n\r\nComputationUnit.cComUnitName as cSAComUnitname,ISNULL(cfree1,N'') as cfree1,ISNULL(cfree2,N'') as cfree2,ISNULL(cfree3,N'') as cfree3,    \r\n\r\nISNULL(cfree4,N'') as cfree4,ISNULL(cfree5,N'') as cfree5,ISNULL(cfree6,N'') as cfree6,ISNULL(cfree7,N'') as cfree7,    \r\n\r\nISNULL(cfree8,N'') as cfree8,ISNULL(cfree9,N'') as cfree9,ISNULL(cfree10,N'') as cfree10,isnull(cbatch,N'') as cbatch,      \r\n\r\nsum(isnull(iquantity,0)) as iquantity,sum(case when igrouptype=1 then isnull(iquantity,0)/ComputationUnit.ichangrate else isnull(inum,0) end) as inum,      \r\n\r\nsum((case when lower(isnull(a1.cvalue,'')) ='true' then 1 else 0 end) * isnull(finquantity,0)    \r\n\r\n +(case when lower(isnull(a2.cvalue,'')) ='true' then 1 else 0 end) * isnull(ftransinquantity,0) ) as iinqty,    \r\n\r\nsum( (case when lower(isnull(a3.cvalue,'')) ='true' then 1 else 0 end) * isnull(foutquantity,0)    \r\n\r\n +(case when lower(isnull(a4.cvalue,'')) ='true' then 1 else 0 end) * isnull(ftransoutquantity,0)) as ioutqty,    \r\n\r\nsum(  isnull(c.iquantity,0) +isnull(c.ipeqty,0)-isnull(fstopquantity,0)    \r\n\r\n +(case when lower(isnull(a1.cvalue,'')) ='true' then 1 else 0 end) * isnull(finquantity,0)      \r\n\r\n +(case when lower(isnull(a2.cvalue,'')) ='true' then 1 else 0 end) * isnull(ftransinquantity,0)        \r\n\r\n -(case when lower(isnull(a3.cvalue,'')) ='true' then 1 else 0 end) * isnull(foutquantity,0)       \r\n\r\n -(case when lower(isnull(a4.cvalue,'')) ='true' then 1 else 0 end) * isnull(ftransoutquantity,0)\r\n  -(case when c.bStopFlag = 1 then c.iquantity else 0 end)) as icanuseqty,      \r\n\r\nsum((case when lower(isnull(a1.cvalue,'')) ='true' then 1 else 0 end) * (case when igrouptype=1 then isnull(fInQuantity,0)/ComputationUnit.ichangrate else isnull(finnum,0) end)      \r\n\r\n +(case when lower(isnull(a2.cvalue,'')) ='true' then 1 else 0 end) * (case when igrouptype=1 then isnull(ftransinquantity,0)/ComputationUnit.ichangrate else isnull(ftransinnum,0) end) ) as iinnum,      \r\n\r\nsum( (case when lower(isnull(a3.cvalue,'')) ='true' then 1 else 0 end) * (case when igrouptype=1 then isnull(foutquantity,0) /ComputationUnit.ichangrate else isnull(foutnum,0)  end)      \r\n\r\n    +(case when lower(isnull(a4.cvalue,'')) ='true' then 1 else 0 end) * (case when igrouptype=1 then isnull(ftransoutquantity,0) /ComputationUnit.ichangrate else isnull(ftransoutnum,0) end)) as ioutnum,        \r\n\r\nsum( case when igrouptype=1 then isnull(iquantity,0)/ComputationUnit.ichangrate else isnull(inum,0) end+isnull(c.ipenum,0)-isnull(fstopnum,0)      \r\n\r\n    +(case when lower(isnull(a1.cvalue,'')) ='true' then 1 else 0 end) * (case when igrouptype=1 then isnull(finquantity,0)/ComputationUnit.ichangrate else isnull(finnum,0) end)      \r\n\r\n    +(case when lower(isnull(a2.cvalue,'')) ='true' then 1 else 0 end) * (case when igrouptype=1 then isnull(ftransinquantity,0)/ComputationUnit.ichangrate else isnull(ftransinnum,0) end)      \r\n\r\n    -(case when lower(isnull(a3.cvalue,'')) ='true' then 1 else 0 end) * (case when igrouptype=1 then isnull(foutquantity,0) /ComputationUnit.ichangrate else isnull(foutnum,0) end)      \r\n\r\n    -(case when lower(isnull(a4.cvalue,'')) ='true' then 1 else 0 end) * (case when igrouptype=1 then isnull(ftransoutquantity,0) /ComputationUnit.ichangrate else isnull(ftransoutnum,0) end)) as icanusenum,    \r\n\r\nc.iMassDate,(case c.cmassunit when 0 then N'' when 1 then N'年' when 2 then N'月' when 3 then N'日' else null end) as cmassunit,  \r\n\r\n  \r\n\r\nc.dmdate,c.dvdate,c.cExpirationdate,  \r\n\r\n(case c.iExpiratDateCalcu when 0 then N'不推算' when 1 then N'按月' when 2 then N'按日'else null end) as iExpiratDateCalcu  \r\n\r\n   \r\n\r\nfrom currentstock c  left join inventory i on c.cinvcode = i.cinvcode      \r\n\r\nleft join warehouse w on c.cwhcode = w.cwhcode      \r\n\r\nleft join accinformation a1  on a1.csysid ='SA' and a1.cname ='bStockCtlboncheck'      \r\n\r\nleft join accinformation a2  on a2.csysid ='SA' and a2.cname ='bStockCtlbontransway'      \r\nleft join accinformation a3  on a3.csysid ='SA' and a3.cname ='bStockCtlbondispatch'      \r\n\r\nleft join accinformation a4  on a4.csysid ='SA' and a4.cname ='bStockCtlbontransout'      \r\n\r\nleft join ComputationUnit saunit on i.cComunitCode=saunit.cComunitCode      \r\n\r\nleft join ComputationUnit on i.cSAComUnitcode=ComputationUnit.cComunitCode   \r\n\r\n\r\n\r\ngroup by c.AutoID,i.cinvcode,i.cinvname,i.cinvstd,i.iId,c.cwhcode,w.cwhname,cSAComUnitcode,saunit.cComUnitName,ComputationUnit.cComUnitName,    \r\n\r\nISNULL(cfree1,N''),ISNULL(cfree2,N''),ISNULL(cfree3,N''),ISNULL(cfree4,N''),ISNULL(cfree5,N''),      \r\n\r\nISNULL(cfree6,N''),ISNULL(cfree7,N''),ISNULL(cfree8,N''),ISNULL(cfree9,N''),ISNULL(cfree10,N''),isnull(cbatch,N''),    \r\n\r\nc.iMassDate,c.cMassUnit,c.dmdate,c.dvdate,c.cExpirationdate,c.iExpiratDateCalcu","summary":[{"field":"Documentation","value":{"_type":"link","name":"U8V16.5数据字典","id":"d6"}},{"field":"Schema","value":"dbo"},{"field":"Name","value":"V_ST_CurrentStock"},{"field":"Type","value":"View"}],"columns":[{"id":"column-407983","object_id":"column-407983","name":"cid","name_without_path":"cid","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-407984","object_id":"column-407984","name":"cinvcode","name_without_path":"cinvcode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"60","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-407985","object_id":"column-407985","name":"cinvname","name_without_path":"cinvname","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"255","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-407986","object_id":"column-407986","name":"cinvstd","name_without_path":"cinvstd","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"255","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-407987","object_id":"column-407987","name":"iid","name_without_path":"iid","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-407988","object_id":"column-407988","name":"cwhcode","name_without_path":"cwhcode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"10","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-407989","object_id":"column-407989","name":"cwhname","name_without_path":"cwhname","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-407990","object_id":"column-407990","name":"cComUnitName","name_without_path":"cComUnitName","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-407991","object_id":"column-407991","name":"cSAComUnitcode","name_without_path":"cSAComUnitcode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"35","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-407992","object_id":"column-407992","name":"cSAComUnitname","name_without_path":"cSAComUnitname","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-407993","object_id":"column-407993","name":"cfree1","name_without_path":"cfree1","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-407994","object_id":"column-407994","name":"cfree2","name_without_path":"cfree2","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-407995","object_id":"column-407995","name":"cfree3","name_without_path":"cfree3","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-407996","object_id":"column-407996","name":"cfree4","name_without_path":"cfree4","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-407997","object_id":"column-407997","name":"cfree5","name_without_path":"cfree5","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-407998","object_id":"column-407998","name":"cfree6","name_without_path":"cfree6","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-407999","object_id":"column-407999","name":"cfree7","name_without_path":"cfree7","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-408000","object_id":"column-408000","name":"cfree8","name_without_path":"cfree8","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-408001","object_id":"column-408001","name":"cfree9","name_without_path":"cfree9","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-408002","object_id":"column-408002","name":"cfree10","name_without_path":"cfree10","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-408003","object_id":"column-408003","name":"cbatch","name_without_path":"cbatch","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"60","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-408004","object_id":"column-408004","name":"iquantity","name_without_path":"iquantity","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"38, 6","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-408005","object_id":"column-408005","name":"inum","name_without_path":"inum","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"38, 10","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-408006","object_id":"column-408006","name":"iinqty","name_without_path":"iinqty","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"38, 6","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-408007","object_id":"column-408007","name":"ioutqty","name_without_path":"ioutqty","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"38, 6","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-408008","object_id":"column-408008","name":"icanuseqty","name_without_path":"icanuseqty","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"38, 6","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-408009","object_id":"column-408009","name":"iinnum","name_without_path":"iinnum","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"38, 6","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-408010","object_id":"column-408010","name":"ioutnum","name_without_path":"ioutnum","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"38, 6","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-408011","object_id":"column-408011","name":"icanusenum","name_without_path":"icanusenum","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"38, 6","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-408012","object_id":"column-408012","name":"iMassDate","name_without_path":"iMassDate","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-408013","object_id":"column-408013","name":"cmassunit","name_without_path":"cmassunit","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"1","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-408014","object_id":"column-408014","name":"dmdate","name_without_path":"dmdate","description":null,"is_pk":false,"is_identity":false,"data_type":"datetime","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-408015","object_id":"column-408015","name":"dvdate","name_without_path":"dvdate","description":null,"is_pk":false,"is_identity":false,"data_type":"datetime","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-408016","object_id":"column-408016","name":"cExpirationdate","name_without_path":"cExpirationdate","description":null,"is_pk":false,"is_identity":false,"data_type":"varchar","data_length":"10","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-408017","object_id":"column-408017","name":"iExpiratDateCalcu","name_without_path":"iExpiratDateCalcu","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"3","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]}],"relations":[],"triggers":[],"unique_keys":[],"dependencies":null,"imported_at":"2024-07-15 13:47"};