window.repositoryObject = {"columns_custom_fields":[],"relations_custom_fields":[],"triggers_custom_fields":[],"object_id":"v13266","name":"v_hr_hi_MsgOutData","subtype":"VIEW","is_user_defined":false,"description":null,"script":"/*==============================================================*/\r\n/* View: v_hr_hi_MsgOutData                                     */\r\n/*==============================================================*/\r\n--ALTER  view v_hr_hi_MsgOutData as \r\n--select  pk_hr_hi_person as pk_hr_hi_busdata,'Hi_NewP' as cBusinessid,\r\n--cpsn_num,cpsn_name,\r\n--'cChangeCause'=\r\n--\tcase \r\n--\twhen cpsn_name is null then cdepname + '新增员工,员工编码为' + cpsn_num \r\n--\telse cdepname + '新增员工' + cpsn_name\r\n--\tend,dLastDate as dChangeDate,null as cPrePersonType,null as cChangedPersonType ,null as cPreDepCode,\r\n--null as cChangedDepCode,null as cPreJobCode,null as cChangedJobCode,\r\n--null as cPreDutyCode,null as cChangedDutyCode,1 as bAudit,'9999' as iRecordID,\r\n--1 as blastflag,null as vstatus1,null as nstatus2 from hr_hi_person,department\r\n--where hr_hi_person.cdept_num=department.cdepcode and hr_hi_person.rCheckInFlag=1 and pk_hr_hi_person not in (select MessageID from hr_wa_MarkedMessage)\r\n--union \r\n--select * from hr_hi_busdata where \r\n--pk_hr_hi_busdata not in (select MessageID from hr_wa_MarkedMessage)\r\n--go\r\n\r\ncreate view v_hr_hi_MsgOutData as \r\nselect  pk_hr_hi_person as pk_hr_hi_busdata,'Hi_NewP' as cBusinessid,\r\ncpsn_num,cpsn_name,\r\n'cChangeCause'=\r\n\tcase \r\n\twhen cpsn_name is null then cdepname + '新增员工,员工编码为' + cpsn_num \r\n\telse cdepname + '新增员工' + cpsn_name\r\n\tend,dLastDate as dChangeDate,null as cPrePersonType,null as cChangedPersonType ,null as cPreDepCode,\r\nnull as cChangedDepCode,null as cPreJobCode,null as cChangedJobCode,\r\nnull as cPreDutyCode,null as cChangedDutyCode,1 as bAudit,'9999' as iRecordID,\r\n1 as blastflag,null as vstatus1,null as nstatus2 from hr_hi_person,department\r\nwhere hr_hi_person.cdept_num=department.cdepcode and pk_hr_hi_person not in (select MessageID from hr_wa_MarkedMessage)\r\nunion \r\nselect pk_hr_hi_busdata, cBusinessid,cpsn_num,cpsn_name,cChangeCause,dChangeDate,cPrePersonType,cChangedPersonType,\r\ncPreDepCode,cChangedDepCode,cPreJobCode,cChangedJobCode,cPreDutyCode,cChangedDutyCode,bAudit,iRecordID,blastflag,vstatus1,nstatus2\r\nfrom hr_hi_busdata where \r\npk_hr_hi_busdata not in (select MessageID from hr_wa_MarkedMessage) and hr_hi_busdata.bAudit=1","summary":[{"field":"Documentation","value":{"_type":"link","name":"U8V16.5数据字典","id":"d6"}},{"field":"Schema","value":"dbo"},{"field":"Name","value":"v_hr_hi_MsgOutData"},{"field":"Type","value":"View"}],"columns":[{"id":"column-359647","object_id":"column-359647","name":"pk_hr_hi_busdata","name_without_path":"pk_hr_hi_busdata","description":null,"is_pk":false,"is_identity":false,"data_type":"uniqueidentifier","data_length":null,"is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-359648","object_id":"column-359648","name":"cBusinessid","name_without_path":"cBusinessid","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"7","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-359649","object_id":"column-359649","name":"cpsn_num","name_without_path":"cpsn_num","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"20","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-359650","object_id":"column-359650","name":"cpsn_name","name_without_path":"cpsn_name","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"40","is_nullable":false,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-359651","object_id":"column-359651","name":"cChangeCause","name_without_path":"cChangeCause","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"68","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-359652","object_id":"column-359652","name":"dChangeDate","name_without_path":"dChangeDate","description":null,"is_pk":false,"is_identity":false,"data_type":"nchar","data_length":"10","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-359653","object_id":"column-359653","name":"cPrePersonType","name_without_path":"cPrePersonType","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"30","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-359654","object_id":"column-359654","name":"cChangedPersonType","name_without_path":"cChangedPersonType","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"30","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-359655","object_id":"column-359655","name":"cPreDepCode","name_without_path":"cPreDepCode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"30","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-359656","object_id":"column-359656","name":"cChangedDepCode","name_without_path":"cChangedDepCode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"30","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-359657","object_id":"column-359657","name":"cPreJobCode","name_without_path":"cPreJobCode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"30","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-359658","object_id":"column-359658","name":"cChangedJobCode","name_without_path":"cChangedJobCode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"30","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-359659","object_id":"column-359659","name":"cPreDutyCode","name_without_path":"cPreDutyCode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"30","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-359660","object_id":"column-359660","name":"cChangedDutyCode","name_without_path":"cChangedDutyCode","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"30","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-359661","object_id":"column-359661","name":"bAudit","name_without_path":"bAudit","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-359662","object_id":"column-359662","name":"iRecordID","name_without_path":"iRecordID","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-359663","object_id":"column-359663","name":"blastflag","name_without_path":"blastflag","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":null,"is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-359664","object_id":"column-359664","name":"vstatus1","name_without_path":"vstatus1","description":null,"is_pk":false,"is_identity":false,"data_type":"nvarchar","data_length":"50","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]},{"id":"column-359665","object_id":"column-359665","name":"nstatus2","name_without_path":"nstatus2","description":null,"is_pk":false,"is_identity":false,"data_type":"numeric","data_length":"18, 0","is_nullable":true,"computed_formula":null,"default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[]}],"relations":[],"triggers":[],"unique_keys":[],"dependencies":null,"imported_at":"2024-07-15 13:47"};